{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/page/page.js","webpack:///./node_modules/js-atom/atom.js","webpack:///./node_modules/morphdom/dist/morphdom.js","webpack:///./node_modules/node-libs-browser/node_modules/process/browser.js","webpack:///webpack://feather/webpack/universalModuleDefinition","webpack:///webpack://feather/webpack/bootstrap","webpack:///webpack://feather/node_modules/classnames/dedupe.js","webpack:///webpack://feather/node_modules/core-js/fn/array/from.js","webpack:///webpack://feather/node_modules/core-js/modules/_a-function.js","webpack:///webpack://feather/node_modules/core-js/modules/_an-object.js","webpack:///webpack://feather/node_modules/core-js/modules/_array-includes.js","webpack:///webpack://feather/node_modules/core-js/modules/_classof.js","webpack:///webpack://feather/node_modules/core-js/modules/_cof.js","webpack:///webpack://feather/node_modules/core-js/modules/_core.js","webpack:///webpack://feather/node_modules/core-js/modules/_create-property.js","webpack:///webpack://feather/node_modules/core-js/modules/_ctx.js","webpack:///webpack://feather/node_modules/core-js/modules/_defined.js","webpack:///webpack://feather/node_modules/core-js/modules/_descriptors.js","webpack:///webpack://feather/node_modules/core-js/modules/_dom-create.js","webpack:///webpack://feather/node_modules/core-js/modules/_enum-bug-keys.js","webpack:///webpack://feather/node_modules/core-js/modules/_export.js","webpack:///webpack://feather/node_modules/core-js/modules/_fails.js","webpack:///webpack://feather/node_modules/core-js/modules/_global.js","webpack:///webpack://feather/node_modules/core-js/modules/_has.js","webpack:///webpack://feather/node_modules/core-js/modules/_hide.js","webpack:///webpack://feather/node_modules/core-js/modules/_html.js","webpack:///webpack://feather/node_modules/core-js/modules/_ie8-dom-define.js","webpack:///webpack://feather/node_modules/core-js/modules/_iobject.js","webpack:///webpack://feather/node_modules/core-js/modules/_is-array-iter.js","webpack:///webpack://feather/node_modules/core-js/modules/_is-object.js","webpack:///webpack://feather/node_modules/core-js/modules/_iter-call.js","webpack:///webpack://feather/node_modules/core-js/modules/_iter-create.js","webpack:///webpack://feather/node_modules/core-js/modules/_iter-define.js","webpack:///webpack://feather/node_modules/core-js/modules/_iter-detect.js","webpack:///webpack://feather/node_modules/core-js/modules/_iterators.js","webpack:///webpack://feather/node_modules/core-js/modules/_library.js","webpack:///webpack://feather/node_modules/core-js/modules/_object-create.js","webpack:///webpack://feather/node_modules/core-js/modules/_object-dp.js","webpack:///webpack://feather/node_modules/core-js/modules/_object-dps.js","webpack:///webpack://feather/node_modules/core-js/modules/_object-gpo.js","webpack:///webpack://feather/node_modules/core-js/modules/_object-keys-internal.js","webpack:///webpack://feather/node_modules/core-js/modules/_object-keys.js","webpack:///webpack://feather/node_modules/core-js/modules/_property-desc.js","webpack:///webpack://feather/node_modules/core-js/modules/_redefine.js","webpack:///webpack://feather/node_modules/core-js/modules/_set-to-string-tag.js","webpack:///webpack://feather/node_modules/core-js/modules/_shared-key.js","webpack:///webpack://feather/node_modules/core-js/modules/_shared.js","webpack:///webpack://feather/node_modules/core-js/modules/_string-at.js","webpack:///webpack://feather/node_modules/core-js/modules/_to-absolute-index.js","webpack:///webpack://feather/node_modules/core-js/modules/_to-integer.js","webpack:///webpack://feather/node_modules/core-js/modules/_to-iobject.js","webpack:///webpack://feather/node_modules/core-js/modules/_to-length.js","webpack:///webpack://feather/node_modules/core-js/modules/_to-object.js","webpack:///webpack://feather/node_modules/core-js/modules/_to-primitive.js","webpack:///webpack://feather/node_modules/core-js/modules/_uid.js","webpack:///webpack://feather/node_modules/core-js/modules/_wks.js","webpack:///webpack://feather/node_modules/core-js/modules/core.get-iterator-method.js","webpack:///webpack://feather/node_modules/core-js/modules/es6.array.from.js","webpack:///webpack://feather/node_modules/core-js/modules/es6.string.iterator.js","webpack:///webpack://feather/src/icon.js","webpack:///webpack://feather/src/icons.js","webpack:///webpack://feather/src/index.js","webpack:///webpack://feather/src/replace.js","webpack:///webpack://feather/src/to-svg.js","webpack:///./src/domain/store/main.ts","webpack:///../src/lib/template.ts","webpack:///../src/lib/modify-template.ts","webpack:///../src/lib/dom.ts","webpack:///../src/lib/directive.ts","webpack:///../src/lib/part.ts","webpack:///../src/lib/template-instance.ts","webpack:///../src/lib/template-result.ts","webpack:///../src/lib/parts.ts","webpack:///../src/lib/template-factory.ts","webpack:///../src/lib/render.ts","webpack:///../src/lib/default-template-processor.ts","webpack:///src/lit-html.ts","webpack:///../src/lib/shady-render.ts","webpack:///../src/lib/updating-element.ts","webpack:///../src/lib/decorators.ts","webpack:///src/lit-element.ts","webpack:///./src/components/views/router.ts","webpack:///./src/domain/store/reducers.ts","webpack:///./src/domain/middleware/user.ts","webpack:///./src/domain/middleware/network.ts","webpack:///./src/domain/middleware/normalize.ts","webpack:///./src/styles/varibles.ts","webpack:///./src/styles/lib.ts","webpack:///./src/styles/button.ts","webpack:///./src/components/views/entry.ts","webpack:///./src/styles/page.ts","webpack:///./src/components/views/add.ts","webpack:///./src/components/views/create.ts","webpack:///./src/components/elements/navbar.ts","webpack:///./src/components/elements/icon.ts","webpack:///./src/components/elements/product-item.ts","webpack:///./src/domain/middleware/router.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","process","isarray","Array","isArray","arr","toString","pathToRegexp_1","pathToRegexp","parse_1","parse","compile_1","str","tokensToFunction","tokensToFunction_1","tokensToRegExp_1","tokensToRegExp","PATH_REGEXP","RegExp","join","res","tokens","index","path","exec","escaped","offset","slice","length","push","prefix","capture","group","suffix","asterisk","repeat","optional","delimiter","pattern","escapeGroup","substr","matches","obj","data","token","segment","TypeError","j","encodeURIComponent","test","escapeString","replace","attachKeys","re","keys","flags","options","sensitive","strict","end","route","lastToken","endsWithSlash","groups","source","match","regexpToRegexp","parts","arrayToRegexp","stringToRegexp","compile","hasDocument","document","hasWindow","window","hasHistory","history","hasProcess","clickEvent","ontouchstart","isLocation","location","Page","this","callbacks","exits","current","len","_dispatch","_decodeURLComponents","_base","_strict","_running","_hashbang","_onclick","_onpopstate","configure","page","fn","Route","arguments","middleware","start","Context","state","pageInstance","_page","_window","hashbang","pageBase","_getBase","indexOf","canonicalPath","title","querystring","_decodeURLEncodedURIComponent","pathname","params","hash","split","globalPage","opts","method","regexp","dispatch","decodeURLComponents","_popstate","popstate","_click","click","addEventListener","removeEventListener","base","loc","protocol","enable","url","search","stop","show","ctx","prev","prevContext","handled","pushState","back","setTimeout","redirect","from","to","inst","e","init","save","nextEnter","href","nextExit","exit","_which","metaKey","ctrlKey","shiftKey","defaultPrevented","el","target","eventPath","composedPath","nodeName","toUpperCase","parentNode","svg","constructor","hasAttribute","getAttribute","link","_samePath","baseVal","sameOrigin","orig","preventDefault","loaded","readyState","undefined","event","which","button","_toURL","URL","anc","createElement","hostname","port","val","decodeURIComponent","replaceState","self","next","qsIndex","createPage","pageFn","apply","set","page_js","default","factory","createAtom","watchers","validator","transition","err","Error","forEach","k","atom","addWatch","removeWatch","swap","args","concat","reset","v","deref","JSON","stringify","range","NS_XHTML","doc","testEl","body","hasAttributeNS","namespaceURI","getAttributeNode","compareNodeNames","fromEl","toEl","fromNodeName","toNodeName","actualize","charCodeAt","syncBooleanAttrProp","setAttribute","removeAttribute","specialElHandlers","OPTION","INPUT","TEXTAREA","newValue","firstChild","oldValue","nodeValue","placeholder","SELECT","curChild","nextSibling","selectedIndex","ELEMENT_NODE","TEXT_NODE","COMMENT_NODE","noop","defaultGetNodeKey","node","id","morphdom","morphAttrs","fromNode","toNode","toNodeHtml","innerHTML","fragment","createRange","selectNode","createContextualFragment","childNodes","toElement","keyedRemovalList","getNodeKey","onBeforeNodeAdded","onNodeAdded","onBeforeElUpdated","onElUpdated","onBeforeNodeDiscarded","onNodeDiscarded","onBeforeElChildrenUpdated","childrenOnly","fromNodesLookup","addKeyedRemoval","removeNode","skipKeyedNodes","removeChild","walkDiscardedChildNodes","nodeType","handleNodeAdded","unmatchedFromEl","replaceChild","morphEl","curFromNodeKey","toElKey","isSameNode","curToNodeKey","fromNextSibling","toNextSibling","matchingFromEl","curToNodeChild","curFromNodeChild","outer","curFromNodeType","isCompatible","insertBefore","appendChild","onBeforeNodeAddedResult","ownerDocument","specialElHandler","indexTree","morphedNode","morphedNodeType","toNodeType","nextChild","moveChildren","createElementNS","elToRemove","morphdomFactory","attr","attrName","attrNamespaceURI","attrValue","attrs","attributes","localName","getAttributeNS","setAttributeNS","specified","removeAttributeNS","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","nextTick","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","root","configurable","__WEBPACK_AMD_DEFINE_RESULT__","classNames","StorageObject","_parseArray","resultSet","_parse","hasOwn","SPACE","arg","argType","_parseString","_parseObject","num","_parseNumber","classSet","list","it","isObject","toIObject","toLength","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","O","cof","TAG","ARG","T","B","tryGet","callee","core","__e","$defineProperty","createDesc","f","aFunction","that","a","b","is","global","hide","redefine","$export","type","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","expProto","Function","U","W","R","Math","__g","dP","documentElement","propertyIsEnumerable","Iterators","ITERATOR","ArrayProto","anObject","iterator","entries","ret","descriptor","setToStringTag","IteratorPrototype","Constructor","NAME","LIBRARY","has","$iterCreate","getPrototypeOf","BUGGY","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","values","SAFE_CLOSING","riter","skipClosing","safe","iter","done","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","style","display","src","contentWindow","open","write","lt","close","Properties","result","IE8_DOM_DEFINE","toPrimitive","Attributes","getKeys","defineProperties","toObject","ObjectProto","arrayIndexOf","names","$keys","bitmap","writable","SRC","$toString","TPL","inspectSource","isFunction","String","def","tag","stat","shared","uid","store","toInteger","defined","TO_STRING","pos","charAt","max","min","ceil","floor","isNaN","IObject","valueOf","px","random","USE_SYMBOL","classof","getIteratorMethod","isArrayIter","createProperty","getIterFn","arrayLike","step","C","aLen","mapfn","mapping","iterFn","$at","iterated","_t","_i","point","Icon","contents","tags","_classCallCheck","_extends","_defaultAttrs2","class","map","attrsToString","combinedAttrs","_dedupe2","_icons2","_icon2","_tags2","reduce","icon","icons","toSvg","elementsToReplace","querySelectorAll","element","elementAttrs","getAttrs","svgString","svgElement","DOMParser","parseFromString","querySelector","replaceElement","console","warn","defaultProduct","thumbnailUrl","defaultOutfit","head","torso","hips","legs","feet","defaultState","currentPage","addition","entry","i_like","buttons","male","female","whatever","user","gender","creation","assign","outfits","closets","products","getState","nodeMarker","markerRegex","rewritesStyleAttribute","Template","[object Object]","partIndex","nodesToRemove","_prepareTemplate","template","content","walker","createTreeWalker","previousNode","currentNode","nextNode","hasAttributes","count","stringForPart","strings","lastAttributeNameRegex","attributeLookupName","toLowerCase","tagName","parent","lastIndex","createMarker","createTextNode","previousSibling","Node","isTemplatePartActive","part","createComment","walkerNodeFilter","NodeFilter","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","removeNodesFromTemplate","nextActiveIndexInTemplateParts","nodeIndex","removeCount","nodesToRemoveInTemplate","currentRemovingNode","countNodes","DOCUMENT_FRAGMENT_NODE","startIndex","isCEPolyfill","customElements","polyfillWrapFlushCallback","removeNodes","container","startNode","endNode","directives","WeakMap","isDirective","noChange","template_instance_TemplateInstance","processor","getTemplate","_parts","_getTemplate","setValue","commit","cloneNode","importNode","_prepareInstance","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","template_result_TemplateResult","html","isTextBinding","lastIndexOf","p1","p2","p3","getHTML","isPrimitive","AttributeCommitter","dirty","_createPart","parts_AttributePart","text","_getValue","comitter","committer","directive","parts_NodePart","templateFactory","_pendingValue","ref","_insert","_commitText","_commitTemplateResult","_commitNode","_commitIterable","then","_commitPromise","clear","textContent","update","instance","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","parts_BooleanAttributePart","PropertyCommitter","super","single","PropertyPart","parts_EventPart","eventName","handleEvent","templateCaches","Map","render_parts","render","templateCache","getTemplateElement","appendInto","defaultTemplateProcessor","lit_html_html","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","add","styles","condensedStyle","templates","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","nativeShadow","removes","fromBooleanAttribute","toBooleanAttribute","notEqual","old","defaultPropertyDeclaration","attribute","reflect","hasChanged","microtaskPromise","Promise","resolve","STATE_HAS_UPDATED","STATE_UPDATE_REQUESTED","STATE_IS_REFLECTING","UpdatingElement","HTMLElement","_updateState","_instanceProperties","_updatePromise","_changedProperties","_reflectingProperties","initialize","observedAttributes","_finalize","_classProperties","_attributeNameForProperty","_attributeToPropertyMap","superProperties","_requestPropertyUpdate","_finalized","superCtor","props","properties","propKeys","getOwnPropertyNames","getOwnPropertySymbols","fromAttribute","Boolean","toAttribute","renderRoot","createRenderRoot","_saveInstanceProperties","attachShadow","styleElement","requestUpdate","_attributeToProperty","ctor","_propertyValueToAttribute","propName","_propertyValueFromAttribute","_invalidate","_valueHasChanged","updateComplete","_hasRequestedUpdate","resolver","previousValidatePromise","_validate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","size","_propertyToAttribute","_query","selector","queryFn","lit_element_LitElement","hasRendered","ShadowRoot","host","define","log","_html","updateCurrentPage","oldState","updateGender","oldstate","onBoarding","page_default","onLocationChoice","updateAdditionLocation","onloadGetProducts","fetch","json","getProducts","updateProducts","product","price","albumId","img","likes","normalizeProduct","addAddtion","updateCreationHead","updateCreationTorso","updateCreationLegs","updateCreationFeet","varibles","shades","grey","greyD1","greyL1","greyL2","blue","blueD1","blueD2","pink","pinkL1","red","cyan","green","orange","yellow","purple","redD1","redL1","redL2","cyanD1","cyanL1","cyanL2","blueL1","blueL2","pinkD1","pinkL2","greenD1","greenL1","greenL2","orangeD1","orangeL1","orangeL2","yellowD1","yellowL1","yellowL2","purpleD1","purpleL1","purpleL2","cross","bottom","top","coreGradients","RO","RY","BP","GC","BC","PC","PY","padding","left","right","borderRadius","feather","parser","_getIcon","req","morphdom_default","getElementById","firstElementChild"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.page = factory());\n}(this, (function () { 'use strict';\n\nvar isarray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {String} str\n * @return {Array}\n */\nfunction parse (str) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var suffix = res[6];\n    var asterisk = res[7];\n\n    var repeat = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n    var delimiter = prefix || '/';\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?');\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: escapeGroup(pattern)\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {String}   str\n * @return {Function}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^' + tokens[i].pattern + '$');\n    }\n  }\n\n  return function (obj) {\n    var path = '';\n    var data = obj || {};\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received \"' + value + '\"')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encodeURIComponent(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = encodeURIComponent(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {String} str\n * @return {String}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path);\n  var re = tokensToRegExp(tokens, options);\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i]);\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {Array}  tokens\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n  var lastToken = tokens[tokens.length - 1];\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken);\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = token.pattern;\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (prefix) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isarray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options)\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(path, keys, options)\n  }\n\n  return stringToRegexp(path, keys, options)\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n   * Module dependencies.\n   */\n\n  \n\n  /**\n   * Short-cuts for global-object checks\n   */\n\n  var hasDocument = ('undefined' !== typeof document);\n  var hasWindow = ('undefined' !== typeof window);\n  var hasHistory = ('undefined' !== typeof history);\n  var hasProcess = typeof process !== 'undefined';\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = hasDocument && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var isLocation = hasWindow && !!(window.history.location || window.location);\n\n  /**\n   * The page instance\n   * @api private\n   */\n  function Page(options) {\n    // public things\n    this.callbacks = [];\n    this.exits = [];\n    this.current = '';\n    this.len = 0;\n\n    // private things\n    this._dispatch = true;\n    this._decodeURLComponents = true;\n    this._base = '';\n    this._strict = false;\n    this._running = false;\n    this._hashbang = false;\n\n    // bound functions\n    this._onclick = this._onclick.bind(this);\n    this._onpopstate = this._onpopstate.bind(this);\n\n    this.configure(options);\n  }\n\n  /**\n   * Configure the instance of page. This can be called multiple times.\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.configure = function(options) {\n    var opts = options || {};\n\n    this._window = opts.window || (hasWindow && window);\n    this._dispatch = opts.dispatch !== false;\n    this._decodeURLComponents = opts.decodeURLComponents !== false;\n    this._popstate = opts.popstate !== false && hasWindow;\n    this._click = opts.click !== false && hasDocument;\n    this._hashbang = !!opts.hashbang;\n\n    var _window = this._window;\n    if(this._popstate) {\n      _window.addEventListener('popstate', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('popstate', this._onpopstate, false);\n    }\n\n    if (this._click) {\n      _window.document.addEventListener(clickEvent, this._onclick, false);\n    } else if(hasDocument) {\n      _window.document.removeEventListener(clickEvent, this._onclick, false);\n    }\n\n    if(this._hashbang && hasWindow && !hasHistory) {\n      _window.addEventListener('hashchange', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('hashchange', this._onpopstate, false);\n    }\n  };\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {string} path\n   * @api public\n   */\n\n  Page.prototype.base = function(path) {\n    if (0 === arguments.length) return this._base;\n    this._base = path;\n  };\n\n  /**\n   * Gets the `base`, which depends on whether we are using History or\n   * hashbang routing.\n\n   * @api private\n   */\n  Page.prototype._getBase = function() {\n    var base = this._base;\n    if(!!base) return base;\n    var loc = hasWindow && this._window && this._window.location;\n    return (hasWindow && this._hashbang && loc && loc.protocol === 'file:') ? loc.pathname : base;\n  };\n\n  /**\n   * Get or set strict path matching to `enable`\n   *\n   * @param {boolean} enable\n   * @api public\n   */\n\n  Page.prototype.strict = function(enable) {\n    if (0 === arguments.length) return this._strict;\n    this._strict = enable;\n  };\n\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.start = function(options) {\n    this.configure(options);\n\n    if (!this._dispatch) return;\n    this._running = true;\n\n    var url;\n    if(isLocation) {\n      var window = this._window;\n      var loc = window.location;\n\n      if(this._hashbang && ~loc.hash.indexOf('#!')) {\n        url = loc.hash.substr(2) + loc.search;\n      } else if (this._hashbang) {\n        url = loc.search + loc.hash;\n      } else {\n        url = loc.pathname + loc.search + loc.hash;\n      }\n    }\n\n    this.replace(url, null, true, this._dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  Page.prototype.stop = function() {\n    if (!this._running) return;\n    this.current = '';\n    this.len = 0;\n    this._running = false;\n\n    var window = this._window;\n    hasDocument && window.document.removeEventListener(clickEvent, this._onclick, false);\n    hasWindow && window.removeEventListener('popstate', this._onpopstate, false);\n    hasWindow && window.removeEventListener('hashchange', this._onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} dispatch\n   * @param {boolean=} push\n   * @return {!Context}\n   * @api public\n   */\n\n  Page.prototype.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    if (this._dispatch) this.dispatch(ctx, prev);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {string} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object=} state\n   * @api public\n   */\n\n  Page.prototype.back = function(path, state) {\n    var page = this;\n    if (this.len > 0) {\n      var window = this._window;\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      hasHistory && window.history.back();\n      this.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    } else {\n      setTimeout(function() {\n        page.show(page._getBase(), state);\n      });\n    }\n  };\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {string} from - if param 'to' is undefined redirects to 'from'\n   * @param {string=} to\n   * @api public\n   */\n  Page.prototype.redirect = function(from, to) {\n    var inst = this;\n\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page.call(this, from, function(e) {\n        setTimeout(function() {\n          inst.replace(/** @type {!string} */ (to));\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        inst.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} init\n   * @param {boolean=} dispatch\n   * @return {!Context}\n   * @api public\n   */\n\n\n  Page.prototype.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) this.dispatch(ctx, prev);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  Page.prototype.dispatch = function(ctx, prev) {\n    var i = 0, j = 0, page = this;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled.call(page, ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  Page.prototype.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return this.exit('*', path);\n    }\n\n    var route = new Route(path, null, this);\n    for (var i = 1; i < arguments.length; ++i) {\n      this.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Handle \"click\" events.\n   */\n\n  /* jshint +W054 */\n  Page.prototype._onclick = function(e) {\n    if (1 !== this._which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n    // ensure link\n    // use shadow dom when available if not, fall back to composedPath()\n    // for browsers that only have shady\n    var el = e.target;\n    var eventPath = e.path || (e.composedPath ? e.composedPath() : null);\n\n    if(eventPath) {\n      for (var i = 0; i < eventPath.length; i++) {\n        if (!eventPath[i].nodeName) continue;\n        if (eventPath[i].nodeName.toUpperCase() !== 'A') continue;\n        if (!eventPath[i].href) continue;\n\n        el = eventPath[i];\n        break;\n      }\n    }\n\n    // continue ensure link\n    // el.nodeName for svg links are 'a' instead of 'A'\n    while (el && 'A' !== el.nodeName.toUpperCase()) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName.toUpperCase()) return;\n\n    // check if link is inside an svg\n    // in this case, both href and target are always inside an object\n    var svg = (typeof el.href === 'object') && el.href.constructor.name === 'SVGAnimatedString';\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if(!this._hashbang && this._samePath(el) && (el.hash || '#' === link)) return;\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    // svg target is an object and its desired value is in .baseVal property\n    if (svg ? el.target.baseVal : el.target) return;\n\n    // x-origin\n    // note: svg links that are not relative don't call click events (and skip page.js)\n    // consequently, all svg links tested inside page.js are relative and in the same origin\n    if (!svg && !this.sameOrigin(el.href)) return;\n\n    // rebuild path\n    // There aren't .pathname and .search properties in svg links, so we use href\n    // Also, svg href is an object and its desired value is in .baseVal property\n    var path = svg ? el.href.baseVal : (el.pathname + el.search + (el.hash || ''));\n\n    path = path[0] !== '/' ? '/' + path : path;\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (hasProcess && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n    var pageBase = this._getBase();\n\n    if (path.indexOf(pageBase) === 0) {\n      path = path.substr(pageBase.length);\n    }\n\n    if (this._hashbang) path = path.replace('#!', '');\n\n    if (pageBase && orig === path) return;\n\n    e.preventDefault();\n    this.show(orig);\n  };\n\n  /**\n   * Handle \"populate\" events.\n   * @api private\n   */\n\n  Page.prototype._onpopstate = (function () {\n    var loaded = false;\n    if ( ! hasWindow ) {\n      return;\n    }\n    if (hasDocument && document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      var page = this;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else if (isLocation) {\n        var loc = page._window.location;\n        page.show(loc.pathname + loc.search + loc.hash, undefined, undefined, false);\n      }\n    };\n  })();\n\n  /**\n   * Event button.\n   */\n  Page.prototype._which = function(e) {\n    e = e || (hasWindow && this._window.event);\n    return null == e.which ? e.button : e.which;\n  };\n\n  /**\n   * Convert to a URL object\n   * @api private\n   */\n  Page.prototype._toURL = function(href) {\n    var window = this._window;\n    if(typeof URL === 'function' && isLocation) {\n      return new URL(href, window.location.toString());\n    } else if (hasDocument) {\n      var anc = window.document.createElement('a');\n      anc.href = href;\n      return anc;\n    }\n  };\n\n  /**\n   * Check if `href` is the same origin.\n   * @param {string} href\n   * @api public\n   */\n\n  Page.prototype.sameOrigin = function(href) {\n    if(!href || !isLocation) return false;\n\n    var url = this._toURL(href);\n    var window = this._window;\n\n    var loc = window.location;\n    return loc.protocol === url.protocol &&\n      loc.hostname === url.hostname &&\n      loc.port === url.port;\n  };\n\n  /**\n   * @api private\n   */\n  Page.prototype._samePath = function(url) {\n    if(!isLocation) return false;\n    var window = this._window;\n    var loc = window.location;\n    return url.pathname === loc.pathname &&\n      url.search === loc.search;\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {string} val - URL component to decode\n   * @api private\n   */\n  Page.prototype._decodeURLEncodedURIComponent = function(val) {\n    if (typeof val !== 'string') { return val; }\n    return this._decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  };\n\n  /**\n   * Create a new `page` instance and function\n   */\n  function createPage(options) {\n    var pageInstance = new Page();\n\n    function pageFn(/* args */) {\n      return page.apply(pageInstance, arguments);\n    }\n\n    // Copy all of the things over. In 2.0 maybe we use setPrototypeOf\n    pageFn.callbacks = pageInstance.callbacks;\n    pageFn.exits = pageInstance.exits;\n    pageFn.base = pageInstance.base.bind(pageInstance);\n    pageFn.strict = pageInstance.strict.bind(pageInstance);\n    pageFn.start = pageInstance.start.bind(pageInstance);\n    pageFn.stop = pageInstance.stop.bind(pageInstance);\n    pageFn.show = pageInstance.show.bind(pageInstance);\n    pageFn.back = pageInstance.back.bind(pageInstance);\n    pageFn.redirect = pageInstance.redirect.bind(pageInstance);\n    pageFn.replace = pageInstance.replace.bind(pageInstance);\n    pageFn.dispatch = pageInstance.dispatch.bind(pageInstance);\n    pageFn.exit = pageInstance.exit.bind(pageInstance);\n    pageFn.configure = pageInstance.configure.bind(pageInstance);\n    pageFn.sameOrigin = pageInstance.sameOrigin.bind(pageInstance);\n\n    pageFn.create = createPage;\n\n    Object.defineProperty(pageFn, 'len', {\n      get: function(){\n        return pageInstance.len;\n      },\n      set: function(val) {\n        pageInstance.len = val;\n      }\n    });\n\n    Object.defineProperty(pageFn, 'current', {\n      get: function(){\n        return pageInstance.current;\n      },\n      set: function(val) {\n        pageInstance.current = val;\n      }\n    });\n\n    // In 2.0 these can be named exports\n    pageFn.Context = Context;\n    pageFn.Route = Route;\n\n    return pageFn;\n  }\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {string|!Function|!Object} path\n   * @param {Function=} fn\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page.call(this, '*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(/** @type {string} */ (path), null, this);\n      for (var i = 1; i < arguments.length; ++i) {\n        this.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      this['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      this.start(path);\n    }\n  }\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n    var page = this;\n    var window = page._window;\n\n    if (page._hashbang) {\n      current = isLocation && this._getBase() + window.location.hash.replace('#!', '');\n    } else {\n      current = isLocation && window.location.pathname + window.location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    isLocation && (window.location.href = ctx.canonicalPath);\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} state\n   * @api public\n   */\n\n  function Context(path, state, pageInstance) {\n    var _page = this.page = pageInstance || page;\n    var window = _page._window;\n    var hashbang = _page.hashbang;\n\n    var pageBase = _page._getBase();\n    if ('/' === path[0] && 0 !== path.indexOf(pageBase)) path = pageBase + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(pageBase, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = (hasDocument && window.document.title);\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? _page._decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = _page._decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = this.pathname = parts[0];\n      this.hash = _page._decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    var page = this.page;\n    var window = page._window;\n    var hashbang = page._hashbang;\n\n    page.len++;\n    if (hasHistory) {\n        window.history.pushState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    var page = this.page;\n    if (hasHistory && page._window.location.protocol !== 'file:') {\n        page._window.history.replaceState(this.state, this.title,\n          page._hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} options\n   * @api private\n   */\n\n  function Route(path, options, page) {\n    var _page = this.page = page || globalPage;\n    var opts = options || {};\n    opts.strict = opts.strict || page._strict;\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathToRegexp_1(this.path, this.keys = [], opts);\n  }\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {string} path\n   * @param {Object} params\n   * @return {boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = this.page._decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Module exports.\n   */\n\n  var globalPage = createPage();\n  var page_js = globalPage;\n  page.default = globalPage;\n\nreturn page_js;\n\n})));\n","/*global exports*/\n\nexports.createAtom = function createAtom(val, options) {\n    var watchers = {};\n    var validator = options && options.validator || function () { return true; };\n\n    function transition(next) {\n        if (!validator(next)) {\n            var err = new Error(next + \" failed validation\");\n            err.name = \"AssertionError\";\n            throw err;\n        }\n\n        var prev = val;\n        val = next;\n\n        Object.keys(watchers).forEach(function (k) {\n            watchers[k](k, atom, prev, next);\n        });\n    }\n\n    var atom = {\n        addWatch: function (key, fn) {\n            watchers[key] = fn;\n        },\n\n        removeWatch: function (key) {\n            delete watchers[key];\n        },\n\n        swap: function (fn) {\n            var args = [val].concat([].slice.call(arguments, 1));\n            transition(fn.apply(null, args));\n        },\n\n        reset: function (v) {\n            transition(v);\n        },\n\n        deref: function () {\n            return val;\n        },\n\n        toString: function () {\n            return \"Atom(\" + JSON.stringify(val) + \")\";\n        }\n    };\n\n    return atom;\n};\n","'use strict';\n\nvar range; // Create a range object for efficently rendering strings to elements.\nvar NS_XHTML = 'http://www.w3.org/1999/xhtml';\n\nvar doc = typeof document === 'undefined' ? undefined : document;\n\nvar testEl = doc ?\n    doc.body || doc.createElement('div') :\n    {};\n\n// Fixes <https://github.com/patrick-steele-idem/morphdom/issues/32>\n// (IE7+ support) <=IE7 does not support el.hasAttribute(name)\nvar actualHasAttributeNS;\n\nif (testEl.hasAttributeNS) {\n    actualHasAttributeNS = function(el, namespaceURI, name) {\n        return el.hasAttributeNS(namespaceURI, name);\n    };\n} else if (testEl.hasAttribute) {\n    actualHasAttributeNS = function(el, namespaceURI, name) {\n        return el.hasAttribute(name);\n    };\n} else {\n    actualHasAttributeNS = function(el, namespaceURI, name) {\n        return el.getAttributeNode(namespaceURI, name) != null;\n    };\n}\n\nvar hasAttributeNS = actualHasAttributeNS;\n\n\nfunction toElement(str) {\n    if (!range && doc.createRange) {\n        range = doc.createRange();\n        range.selectNode(doc.body);\n    }\n\n    var fragment;\n    if (range && range.createContextualFragment) {\n        fragment = range.createContextualFragment(str);\n    } else {\n        fragment = doc.createElement('body');\n        fragment.innerHTML = str;\n    }\n    return fragment.childNodes[0];\n}\n\n/**\n * Returns true if two node's names are the same.\n *\n * NOTE: We don't bother checking `namespaceURI` because you will never find two HTML elements with the same\n *       nodeName and different namespace URIs.\n *\n * @param {Element} a\n * @param {Element} b The target element\n * @return {boolean}\n */\nfunction compareNodeNames(fromEl, toEl) {\n    var fromNodeName = fromEl.nodeName;\n    var toNodeName = toEl.nodeName;\n\n    if (fromNodeName === toNodeName) {\n        return true;\n    }\n\n    if (toEl.actualize &&\n        fromNodeName.charCodeAt(0) < 91 && /* from tag name is upper case */\n        toNodeName.charCodeAt(0) > 90 /* target tag name is lower case */) {\n        // If the target element is a virtual DOM node then we may need to normalize the tag name\n        // before comparing. Normal HTML elements that are in the \"http://www.w3.org/1999/xhtml\"\n        // are converted to upper case\n        return fromNodeName === toNodeName.toUpperCase();\n    } else {\n        return false;\n    }\n}\n\n/**\n * Create an element, optionally with a known namespace URI.\n *\n * @param {string} name the element name, e.g. 'div' or 'svg'\n * @param {string} [namespaceURI] the element's namespace URI, i.e. the value of\n * its `xmlns` attribute or its inferred namespace.\n *\n * @return {Element}\n */\nfunction createElementNS(name, namespaceURI) {\n    return !namespaceURI || namespaceURI === NS_XHTML ?\n        doc.createElement(name) :\n        doc.createElementNS(namespaceURI, name);\n}\n\n/**\n * Copies the children of one DOM element to another DOM element\n */\nfunction moveChildren(fromEl, toEl) {\n    var curChild = fromEl.firstChild;\n    while (curChild) {\n        var nextChild = curChild.nextSibling;\n        toEl.appendChild(curChild);\n        curChild = nextChild;\n    }\n    return toEl;\n}\n\nfunction morphAttrs(fromNode, toNode) {\n    var attrs = toNode.attributes;\n    var i;\n    var attr;\n    var attrName;\n    var attrNamespaceURI;\n    var attrValue;\n    var fromValue;\n\n    for (i = attrs.length - 1; i >= 0; --i) {\n        attr = attrs[i];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n        attrValue = attr.value;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n            fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);\n            }\n        } else {\n            fromValue = fromNode.getAttribute(attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttribute(attrName, attrValue);\n            }\n        }\n    }\n\n    // Remove any extra attributes found on the original DOM element that\n    // weren't found on the target element.\n    attrs = fromNode.attributes;\n\n    for (i = attrs.length - 1; i >= 0; --i) {\n        attr = attrs[i];\n        if (attr.specified !== false) {\n            attrName = attr.name;\n            attrNamespaceURI = attr.namespaceURI;\n\n            if (attrNamespaceURI) {\n                attrName = attr.localName || attrName;\n\n                if (!hasAttributeNS(toNode, attrNamespaceURI, attrName)) {\n                    fromNode.removeAttributeNS(attrNamespaceURI, attrName);\n                }\n            } else {\n                if (!hasAttributeNS(toNode, null, attrName)) {\n                    fromNode.removeAttribute(attrName);\n                }\n            }\n        }\n    }\n}\n\nfunction syncBooleanAttrProp(fromEl, toEl, name) {\n    if (fromEl[name] !== toEl[name]) {\n        fromEl[name] = toEl[name];\n        if (fromEl[name]) {\n            fromEl.setAttribute(name, '');\n        } else {\n            fromEl.removeAttribute(name, '');\n        }\n    }\n}\n\nvar specialElHandlers = {\n    /**\n     * Needed for IE. Apparently IE doesn't think that \"selected\" is an\n     * attribute when reading over the attributes using selectEl.attributes\n     */\n    OPTION: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'selected');\n    },\n    /**\n     * The \"value\" attribute is special for the <input> element since it sets\n     * the initial value. Changing the \"value\" attribute without changing the\n     * \"value\" property will have no effect since it is only used to the set the\n     * initial value.  Similar for the \"checked\" attribute, and \"disabled\".\n     */\n    INPUT: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'checked');\n        syncBooleanAttrProp(fromEl, toEl, 'disabled');\n\n        if (fromEl.value !== toEl.value) {\n            fromEl.value = toEl.value;\n        }\n\n        if (!hasAttributeNS(toEl, null, 'value')) {\n            fromEl.removeAttribute('value');\n        }\n    },\n\n    TEXTAREA: function(fromEl, toEl) {\n        var newValue = toEl.value;\n        if (fromEl.value !== newValue) {\n            fromEl.value = newValue;\n        }\n\n        var firstChild = fromEl.firstChild;\n        if (firstChild) {\n            // Needed for IE. Apparently IE sets the placeholder as the\n            // node value and vise versa. This ignores an empty update.\n            var oldValue = firstChild.nodeValue;\n\n            if (oldValue == newValue || (!newValue && oldValue == fromEl.placeholder)) {\n                return;\n            }\n\n            firstChild.nodeValue = newValue;\n        }\n    },\n    SELECT: function(fromEl, toEl) {\n        if (!hasAttributeNS(toEl, null, 'multiple')) {\n            var selectedIndex = -1;\n            var i = 0;\n            var curChild = toEl.firstChild;\n            while(curChild) {\n                var nodeName = curChild.nodeName;\n                if (nodeName && nodeName.toUpperCase() === 'OPTION') {\n                    if (hasAttributeNS(curChild, null, 'selected')) {\n                        selectedIndex = i;\n                        break;\n                    }\n                    i++;\n                }\n                curChild = curChild.nextSibling;\n            }\n\n            fromEl.selectedIndex = i;\n        }\n    }\n};\n\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\n\nfunction noop() {}\n\nfunction defaultGetNodeKey(node) {\n    return node.id;\n}\n\nfunction morphdomFactory(morphAttrs) {\n\n    return function morphdom(fromNode, toNode, options) {\n        if (!options) {\n            options = {};\n        }\n\n        if (typeof toNode === 'string') {\n            if (fromNode.nodeName === '#document' || fromNode.nodeName === 'HTML') {\n                var toNodeHtml = toNode;\n                toNode = doc.createElement('html');\n                toNode.innerHTML = toNodeHtml;\n            } else {\n                toNode = toElement(toNode);\n            }\n        }\n\n        var getNodeKey = options.getNodeKey || defaultGetNodeKey;\n        var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;\n        var onNodeAdded = options.onNodeAdded || noop;\n        var onBeforeElUpdated = options.onBeforeElUpdated || noop;\n        var onElUpdated = options.onElUpdated || noop;\n        var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;\n        var onNodeDiscarded = options.onNodeDiscarded || noop;\n        var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;\n        var childrenOnly = options.childrenOnly === true;\n\n        // This object is used as a lookup to quickly find all keyed elements in the original DOM tree.\n        var fromNodesLookup = {};\n        var keyedRemovalList;\n\n        function addKeyedRemoval(key) {\n            if (keyedRemovalList) {\n                keyedRemovalList.push(key);\n            } else {\n                keyedRemovalList = [key];\n            }\n        }\n\n        function walkDiscardedChildNodes(node, skipKeyedNodes) {\n            if (node.nodeType === ELEMENT_NODE) {\n                var curChild = node.firstChild;\n                while (curChild) {\n\n                    var key = undefined;\n\n                    if (skipKeyedNodes && (key = getNodeKey(curChild))) {\n                        // If we are skipping keyed nodes then we add the key\n                        // to a list so that it can be handled at the very end.\n                        addKeyedRemoval(key);\n                    } else {\n                        // Only report the node as discarded if it is not keyed. We do this because\n                        // at the end we loop through all keyed elements that were unmatched\n                        // and then discard them in one final pass.\n                        onNodeDiscarded(curChild);\n                        if (curChild.firstChild) {\n                            walkDiscardedChildNodes(curChild, skipKeyedNodes);\n                        }\n                    }\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        /**\n         * Removes a DOM node out of the original DOM\n         *\n         * @param  {Node} node The node to remove\n         * @param  {Node} parentNode The nodes parent\n         * @param  {Boolean} skipKeyedNodes If true then elements with keys will be skipped and not discarded.\n         * @return {undefined}\n         */\n        function removeNode(node, parentNode, skipKeyedNodes) {\n            if (onBeforeNodeDiscarded(node) === false) {\n                return;\n            }\n\n            if (parentNode) {\n                parentNode.removeChild(node);\n            }\n\n            onNodeDiscarded(node);\n            walkDiscardedChildNodes(node, skipKeyedNodes);\n        }\n\n        // // TreeWalker implementation is no faster, but keeping this around in case this changes in the future\n        // function indexTree(root) {\n        //     var treeWalker = document.createTreeWalker(\n        //         root,\n        //         NodeFilter.SHOW_ELEMENT);\n        //\n        //     var el;\n        //     while((el = treeWalker.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        // // NodeIterator implementation is no faster, but keeping this around in case this changes in the future\n        //\n        // function indexTree(node) {\n        //     var nodeIterator = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT);\n        //     var el;\n        //     while((el = nodeIterator.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        function indexTree(node) {\n            if (node.nodeType === ELEMENT_NODE) {\n                var curChild = node.firstChild;\n                while (curChild) {\n                    var key = getNodeKey(curChild);\n                    if (key) {\n                        fromNodesLookup[key] = curChild;\n                    }\n\n                    // Walk recursively\n                    indexTree(curChild);\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        indexTree(fromNode);\n\n        function handleNodeAdded(el) {\n            onNodeAdded(el);\n\n            var curChild = el.firstChild;\n            while (curChild) {\n                var nextSibling = curChild.nextSibling;\n\n                var key = getNodeKey(curChild);\n                if (key) {\n                    var unmatchedFromEl = fromNodesLookup[key];\n                    if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {\n                        curChild.parentNode.replaceChild(unmatchedFromEl, curChild);\n                        morphEl(unmatchedFromEl, curChild);\n                    }\n                }\n\n                handleNodeAdded(curChild);\n                curChild = nextSibling;\n            }\n        }\n\n        function morphEl(fromEl, toEl, childrenOnly) {\n            var toElKey = getNodeKey(toEl);\n            var curFromNodeKey;\n\n            if (toElKey) {\n                // If an element with an ID is being morphed then it is will be in the final\n                // DOM so clear it out of the saved elements collection\n                delete fromNodesLookup[toElKey];\n            }\n\n            if (toNode.isSameNode && toNode.isSameNode(fromNode)) {\n                return;\n            }\n\n            if (!childrenOnly) {\n                if (onBeforeElUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n\n                morphAttrs(fromEl, toEl);\n                onElUpdated(fromEl);\n\n                if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n            }\n\n            if (fromEl.nodeName !== 'TEXTAREA') {\n                var curToNodeChild = toEl.firstChild;\n                var curFromNodeChild = fromEl.firstChild;\n                var curToNodeKey;\n\n                var fromNextSibling;\n                var toNextSibling;\n                var matchingFromEl;\n\n                outer: while (curToNodeChild) {\n                    toNextSibling = curToNodeChild.nextSibling;\n                    curToNodeKey = getNodeKey(curToNodeChild);\n\n                    while (curFromNodeChild) {\n                        fromNextSibling = curFromNodeChild.nextSibling;\n\n                        if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {\n                            curToNodeChild = toNextSibling;\n                            curFromNodeChild = fromNextSibling;\n                            continue outer;\n                        }\n\n                        curFromNodeKey = getNodeKey(curFromNodeChild);\n\n                        var curFromNodeType = curFromNodeChild.nodeType;\n\n                        var isCompatible = undefined;\n\n                        if (curFromNodeType === curToNodeChild.nodeType) {\n                            if (curFromNodeType === ELEMENT_NODE) {\n                                // Both nodes being compared are Element nodes\n\n                                if (curToNodeKey) {\n                                    // The target node has a key so we want to match it up with the correct element\n                                    // in the original DOM tree\n                                    if (curToNodeKey !== curFromNodeKey) {\n                                        // The current element in the original DOM tree does not have a matching key so\n                                        // let's check our lookup to see if there is a matching element in the original\n                                        // DOM tree\n                                        if ((matchingFromEl = fromNodesLookup[curToNodeKey])) {\n                                            if (curFromNodeChild.nextSibling === matchingFromEl) {\n                                                // Special case for single element removals. To avoid removing the original\n                                                // DOM node out of the tree (since that can break CSS transitions, etc.),\n                                                // we will instead discard the current node and wait until the next\n                                                // iteration to properly match up the keyed target element with its matching\n                                                // element in the original tree\n                                                isCompatible = false;\n                                            } else {\n                                                // We found a matching keyed element somewhere in the original DOM tree.\n                                                // Let's moving the original DOM node into the current position and morph\n                                                // it.\n\n                                                // NOTE: We use insertBefore instead of replaceChild because we want to go through\n                                                // the `removeNode()` function for the node that is being discarded so that\n                                                // all lifecycle hooks are correctly invoked\n                                                fromEl.insertBefore(matchingFromEl, curFromNodeChild);\n\n                                                fromNextSibling = curFromNodeChild.nextSibling;\n\n                                                if (curFromNodeKey) {\n                                                    // Since the node is keyed it might be matched up later so we defer\n                                                    // the actual removal to later\n                                                    addKeyedRemoval(curFromNodeKey);\n                                                } else {\n                                                    // NOTE: we skip nested keyed nodes from being removed since there is\n                                                    //       still a chance they will be matched up later\n                                                    removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                                                }\n\n                                                curFromNodeChild = matchingFromEl;\n                                            }\n                                        } else {\n                                            // The nodes are not compatible since the \"to\" node has a key and there\n                                            // is no matching keyed node in the source tree\n                                            isCompatible = false;\n                                        }\n                                    }\n                                } else if (curFromNodeKey) {\n                                    // The original has a key\n                                    isCompatible = false;\n                                }\n\n                                isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);\n                                if (isCompatible) {\n                                    // We found compatible DOM elements so transform\n                                    // the current \"from\" node to match the current\n                                    // target DOM node.\n                                    morphEl(curFromNodeChild, curToNodeChild);\n                                }\n\n                            } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {\n                                // Both nodes being compared are Text or Comment nodes\n                                isCompatible = true;\n                                // Simply update nodeValue on the original node to\n                                // change the text value\n                                if (curFromNodeChild.nodeValue !== curToNodeChild.nodeValue) {\n                                    curFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n                                }\n\n                            }\n                        }\n\n                        if (isCompatible) {\n                            // Advance both the \"to\" child and the \"from\" child since we found a match\n                            curToNodeChild = toNextSibling;\n                            curFromNodeChild = fromNextSibling;\n                            continue outer;\n                        }\n\n                        // No compatible match so remove the old node from the DOM and continue trying to find a\n                        // match in the original DOM. However, we only do this if the from node is not keyed\n                        // since it is possible that a keyed node might match up with a node somewhere else in the\n                        // target tree and we don't want to discard it just yet since it still might find a\n                        // home in the final DOM tree. After everything is done we will remove any keyed nodes\n                        // that didn't find a home\n                        if (curFromNodeKey) {\n                            // Since the node is keyed it might be matched up later so we defer\n                            // the actual removal to later\n                            addKeyedRemoval(curFromNodeKey);\n                        } else {\n                            // NOTE: we skip nested keyed nodes from being removed since there is\n                            //       still a chance they will be matched up later\n                            removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                        }\n\n                        curFromNodeChild = fromNextSibling;\n                    }\n\n                    // If we got this far then we did not find a candidate match for\n                    // our \"to node\" and we exhausted all of the children \"from\"\n                    // nodes. Therefore, we will just append the current \"to\" node\n                    // to the end\n                    if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {\n                        fromEl.appendChild(matchingFromEl);\n                        morphEl(matchingFromEl, curToNodeChild);\n                    } else {\n                        var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);\n                        if (onBeforeNodeAddedResult !== false) {\n                            if (onBeforeNodeAddedResult) {\n                                curToNodeChild = onBeforeNodeAddedResult;\n                            }\n\n                            if (curToNodeChild.actualize) {\n                                curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);\n                            }\n                            fromEl.appendChild(curToNodeChild);\n                            handleNodeAdded(curToNodeChild);\n                        }\n                    }\n\n                    curToNodeChild = toNextSibling;\n                    curFromNodeChild = fromNextSibling;\n                }\n\n                // We have processed all of the \"to nodes\". If curFromNodeChild is\n                // non-null then we still have some from nodes left over that need\n                // to be removed\n                while (curFromNodeChild) {\n                    fromNextSibling = curFromNodeChild.nextSibling;\n                    if ((curFromNodeKey = getNodeKey(curFromNodeChild))) {\n                        // Since the node is keyed it might be matched up later so we defer\n                        // the actual removal to later\n                        addKeyedRemoval(curFromNodeKey);\n                    } else {\n                        // NOTE: we skip nested keyed nodes from being removed since there is\n                        //       still a chance they will be matched up later\n                        removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                    }\n                    curFromNodeChild = fromNextSibling;\n                }\n            }\n\n            var specialElHandler = specialElHandlers[fromEl.nodeName];\n            if (specialElHandler) {\n                specialElHandler(fromEl, toEl);\n            }\n        } // END: morphEl(...)\n\n        var morphedNode = fromNode;\n        var morphedNodeType = morphedNode.nodeType;\n        var toNodeType = toNode.nodeType;\n\n        if (!childrenOnly) {\n            // Handle the case where we are given two DOM nodes that are not\n            // compatible (e.g. <div> --> <span> or <div> --> TEXT)\n            if (morphedNodeType === ELEMENT_NODE) {\n                if (toNodeType === ELEMENT_NODE) {\n                    if (!compareNodeNames(fromNode, toNode)) {\n                        onNodeDiscarded(fromNode);\n                        morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));\n                    }\n                } else {\n                    // Going from an element node to a text node\n                    morphedNode = toNode;\n                }\n            } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) { // Text or comment node\n                if (toNodeType === morphedNodeType) {\n                    if (morphedNode.nodeValue !== toNode.nodeValue) {\n                        morphedNode.nodeValue = toNode.nodeValue;\n                    }\n\n                    return morphedNode;\n                } else {\n                    // Text node to something else\n                    morphedNode = toNode;\n                }\n            }\n        }\n\n        if (morphedNode === toNode) {\n            // The \"to node\" was not compatible with the \"from node\" so we had to\n            // toss out the \"from node\" and use the \"to node\"\n            onNodeDiscarded(fromNode);\n        } else {\n            morphEl(morphedNode, toNode, childrenOnly);\n\n            // We now need to loop over any keyed nodes that might need to be\n            // removed. We only do the removal if we know that the keyed node\n            // never found a match. When a keyed node is matched up we remove\n            // it out of fromNodesLookup and we use fromNodesLookup to determine\n            // if a keyed node has been matched up or not\n            if (keyedRemovalList) {\n                for (var i=0, len=keyedRemovalList.length; i<len; i++) {\n                    var elToRemove = fromNodesLookup[keyedRemovalList[i]];\n                    if (elToRemove) {\n                        removeNode(elToRemove, elToRemove.parentNode, false);\n                    }\n                }\n            }\n        }\n\n        if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {\n            if (morphedNode.actualize) {\n                morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);\n            }\n            // If we had to swap out the from node with a new node because the old\n            // node was not compatible with the target node then we need to\n            // replace the old DOM node in the original DOM tree. This is only\n            // possible if the original DOM node was part of a DOM tree which\n            // we know is the case if it has a parent node.\n            fromNode.parentNode.replaceChild(morphedNode, fromNode);\n        }\n\n        return morphedNode;\n    };\n}\n\nvar morphdom = morphdomFactory(morphAttrs);\n\nmodule.exports = morphdom;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"feather\"] = factory();\n\telse\n\t\troot[\"feather\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar classNames = (function () {\n\t\t// don't inherit from Object so we can skip hasOwnProperty check later\n\t\t// http://stackoverflow.com/questions/15518328/creating-js-object-with-object-createnull#answer-21079232\n\t\tfunction StorageObject() {}\n\t\tStorageObject.prototype = Object.create(null);\n\n\t\tfunction _parseArray (resultSet, array) {\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\t_parse(resultSet, array[i]);\n\t\t\t}\n\t\t}\n\n\t\tvar hasOwn = {}.hasOwnProperty;\n\n\t\tfunction _parseNumber (resultSet, num) {\n\t\t\tresultSet[num] = true;\n\t\t}\n\n\t\tfunction _parseObject (resultSet, object) {\n\t\t\tfor (var k in object) {\n\t\t\t\tif (hasOwn.call(object, k)) {\n\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n\t\t\t\t\tresultSet[k] = !!object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar SPACE = /\\s+/;\n\t\tfunction _parseString (resultSet, str) {\n\t\t\tvar array = str.split(SPACE);\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\tresultSet[array[i]] = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction _parse (resultSet, arg) {\n\t\t\tif (!arg) return;\n\t\t\tvar argType = typeof arg;\n\n\t\t\t// 'foo bar'\n\t\t\tif (argType === 'string') {\n\t\t\t\t_parseString(resultSet, arg);\n\n\t\t\t// ['foo', 'bar', ...]\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t_parseArray(resultSet, arg);\n\n\t\t\t// { 'foo': true, ... }\n\t\t\t} else if (argType === 'object') {\n\t\t\t\t_parseObject(resultSet, arg);\n\n\t\t\t// '130'\n\t\t\t} else if (argType === 'number') {\n\t\t\t\t_parseNumber(resultSet, arg);\n\t\t\t}\n\t\t}\n\n\t\tfunction _classNames () {\n\t\t\t// don't leak arguments\n\t\t\t// https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n\t\t\tvar len = arguments.length;\n\t\t\tvar args = Array(len);\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\targs[i] = arguments[i];\n\t\t\t}\n\n\t\t\tvar classSet = new StorageObject();\n\t\t\t_parseArray(classSet, args);\n\n\t\t\tvar list = [];\n\n\t\t\tfor (var k in classSet) {\n\t\t\t\tif (classSet[k]) {\n\t\t\t\t\tlist.push(k)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list.join(' ');\n\t\t}\n\n\t\treturn _classNames;\n\t})();\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.5.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = (!BUGGY && $native) || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = {};\n","module.exports = false;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","import classnames from 'classnames/dedupe';\n\nimport DEFAULT_ATTRS from './default-attrs.json';\n\nclass Icon {\n  constructor(name, contents, tags = []) {\n    this.name = name;\n    this.contents = contents;\n    this.tags = tags;\n    this.attrs = {\n      ...DEFAULT_ATTRS,\n      ...{ class: `feather feather-${name}` },\n    };\n  }\n\n  /**\n   * Create an SVG string.\n   * @param {Object} attrs\n   * @returns {string}\n   */\n  toSvg(attrs = {}) {\n    const combinedAttrs = {\n      ...this.attrs,\n      ...attrs,\n      ...{ class: classnames(this.attrs.class, attrs.class) },\n    };\n\n    return `<svg ${attrsToString(combinedAttrs)}>${this.contents}</svg>`;\n  }\n\n  /**\n   * Return string representation of an `Icon`.\n   *\n   * Added for backward compatibility. If old code expects `feather.icons.<name>`\n   * to be a string, `toString()` will get implicitly called.\n   *\n   * @returns {string}\n   */\n  toString() {\n    return this.contents;\n  }\n}\n\n/**\n * Convert attributes object to string of HTML attributes.\n * @param {Object} attrs\n * @returns {string}\n */\nfunction attrsToString(attrs) {\n  return Object.keys(attrs)\n    .map(key => `${key}=\"${attrs[key]}\"`)\n    .join(' ');\n}\n\nexport default Icon;\n","import Icon from './icon';\nimport icons from '../dist/icons.json';\nimport tags from './tags.json';\n\nexport default Object.keys(icons)\n  .map(key => new Icon(key, icons[key], tags[key]))\n  .reduce((object, icon) => {\n    object[icon.name] = icon;\n    return object;\n  }, {});\n","import icons from './icons';\nimport toSvg from './to-svg';\nimport replace from './replace';\n\nmodule.exports = { icons, toSvg, replace };\n","/* eslint-env browser */\nimport classnames from 'classnames/dedupe';\n\nimport icons from './icons';\n\n/**\n * Replace all HTML elements that have a `data-feather` attribute with SVG markup\n * corresponding to the element's `data-feather` attribute value.\n * @param {Object} attrs\n */\nfunction replace(attrs = {}) {\n  if (typeof document === 'undefined') {\n    throw new Error('`feather.replace()` only works in a browser environment.');\n  }\n\n  const elementsToReplace = document.querySelectorAll('[data-feather]');\n\n  Array.from(elementsToReplace).forEach(element =>\n    replaceElement(element, attrs),\n  );\n}\n\n/**\n * Replace a single HTML element with SVG markup\n * corresponding to the element's `data-feather` attribute value.\n * @param {HTMLElement} element\n * @param {Object} attrs\n */\nfunction replaceElement(element, attrs = {}) {\n  const elementAttrs = getAttrs(element);\n  const name = elementAttrs['data-feather'];\n  delete elementAttrs['data-feather'];\n\n  const svgString = icons[name].toSvg({\n    ...attrs,\n    ...elementAttrs,\n    ...{ class: classnames(attrs.class, elementAttrs.class) },\n  });\n  const svgDocument = new DOMParser().parseFromString(\n    svgString,\n    'image/svg+xml',\n  );\n  const svgElement = svgDocument.querySelector('svg');\n\n  element.parentNode.replaceChild(svgElement, element);\n}\n\n/**\n * Get the attributes of an HTML element.\n * @param {HTMLElement} element\n * @returns {Object}\n */\nfunction getAttrs(element) {\n  return Array.from(element.attributes).reduce((attrs, attr) => {\n    attrs[attr.name] = attr.value;\n    return attrs;\n  }, {});\n}\n\nexport default replace;\n","import icons from './icons';\n\n/**\n * Create an SVG string.\n * @deprecated\n * @param {string} name\n * @param {Object} attrs\n * @returns {string}\n */\nfunction toSvg(name, attrs = {}) {\n  console.warn(\n    'feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead.',\n  );\n\n  if (!name) {\n    throw new Error('The required `key` (icon name) parameter is missing.');\n  }\n\n  if (!icons[name]) {\n    throw new Error(\n      `No icon matching '${\n        name\n      }'. See the complete list of icons at https://feathericons.com`,\n    );\n  }\n\n  return icons[name].toSvg(attrs);\n}\n\nexport default toSvg;\n","import { createAtom } from 'js-atom';\nexport type product = {\n  thumbnailUrl: '',\n  title: ''\n}\nexport type outfit = {\n  head: product,\n  torso: product,\n  hips: product,\n  legs: product,\n  feet: product,\n}\nconst defaultProduct: product = {\n  thumbnailUrl: '',\n  title: ''\n}\nconst defaultOutfit: outfit = {\n  head: defaultProduct,\n  torso: defaultProduct,\n  hips: defaultProduct,\n  legs: defaultProduct,\n  feet: defaultProduct,\n}\n\nconst defaultState = {\n  currentPage:  'ENTRY',\n  addition: {\n    location: 'head',\n    id: '',\n  },\n  entry: {\n    title: 'yaeba',\n    i_like: 'I like to wear...',\n    buttons: {\n      male: 'Male Clothes',\n      female: 'Female Clothes',\n      whatever: 'Whatever I want! B#%CH'\n    }\n  },\n  user: {\n    gender: 'female',\n    creation: {...defaultOutfit},\n    outfits: {...defaultOutfit},\n    closets: {...defaultOutfit},\n  },\n  products: []\n}\n\nexport const store = createAtom(defaultState);\n\nexport function getState() {\n  return store.deref();\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, not attribute positions,\n * in template.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\nexport const rewritesStyleAttribute = (() => {\n  const el = document.createElement('div');\n  el.setAttribute('style', '{{bad value}}');\n  return el.getAttribute('style') !== '{{bad value}}';\n})();\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  parts: TemplatePart[] = [];\n  element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n    let index = -1;\n    let partIndex = 0;\n    const nodesToRemove: Node[] = [];\n    const _prepareTemplate = (template: HTMLTemplateElement) => {\n      const content = template.content;\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          content,\n          133 /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT |\n                 NodeFilter.SHOW_TEXT */\n          ,\n          null as any,\n          false);\n      // The actual previous node, accounting for removals: if a node is removed\n      // it will never be the previousNode.\n      let previousNode: Node|undefined;\n      // Used to set previousNode at the top of the loop.\n      let currentNode: Node|undefined;\n      while (walker.nextNode()) {\n        index++;\n        previousNode = currentNode;\n        const node = currentNode = walker.currentNode as Element;\n        if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n          if (node.hasAttributes()) {\n            const attributes = node.attributes;\n            // Per\n            // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n            // attributes are not guaranteed to be returned in document order.\n            // In particular, Edge/IE can return them out of order, so we cannot\n            // assume a correspondance between part index and attribute index.\n            let count = 0;\n            for (let i = 0; i < attributes.length; i++) {\n              if (attributes[i].value.indexOf(marker) >= 0) {\n                count++;\n              }\n            }\n            while (count-- > 0) {\n              // Get the template literal section leading up to the first\n              // expression in this attribute\n              const stringForPart = result.strings[partIndex];\n              // Find the attribute name\n              const name = lastAttributeNameRegex.exec(stringForPart)![2];\n              // Find the corresponding attribute\n              // If the attribute name contains special characters, lower-case\n              // it so that on XML nodes with case-sensitive getAttribute() we\n              // can still find the attribute, which will have been lower-cased\n              // by the parser.\n              //\n              // If the attribute name doesn't contain special character, it's\n              // important to _not_ lower-case it, in case the name is\n              // case-sensitive, like with XML attributes like \"viewBox\".\n              const attributeLookupName =\n                  (rewritesStyleAttribute && name === 'style') ?\n                  'style$' :\n                  /^[a-zA-Z-]*$/.test(name) ? name : name.toLowerCase();\n              const attributeValue = node.getAttribute(attributeLookupName)!;\n              const strings = attributeValue.split(markerRegex);\n              this.parts.push({type: 'attribute', index, name, strings});\n              node.removeAttribute(attributeLookupName);\n              partIndex += strings.length - 1;\n            }\n          }\n          if (node.tagName === 'TEMPLATE') {\n            _prepareTemplate(node as HTMLTemplateElement);\n          }\n        } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n          const nodeValue = node.nodeValue!;\n          if (nodeValue.indexOf(marker) < 0) {\n            continue;\n          }\n          const parent = node.parentNode!;\n          const strings = nodeValue.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // We have a part for each match found\n          partIndex += lastIndex;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            parent.insertBefore(\n                (strings[i] === '') ? createMarker() :\n                                      document.createTextNode(strings[i]),\n                node);\n            this.parts.push({type: 'node', index: index++});\n          }\n          parent.insertBefore(\n              strings[lastIndex] === '' ?\n                  createMarker() :\n                  document.createTextNode(strings[lastIndex]),\n              node);\n          nodesToRemove.push(node);\n        } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n          if (node.nodeValue === marker) {\n            const parent = node.parentNode!;\n            // Add a new marker node to be the startNode of the Part if any of\n            // the following are true:\n            //  * We don't have a previousSibling\n            //  * previousSibling is being removed (thus it's not the\n            //    `previousNode`)\n            //  * previousSibling is not a Text node\n            //\n            // TODO(justinfagnani): We should be able to use the previousNode\n            // here as the marker node and reduce the number of extra nodes we\n            // add to a template. See\n            // https://github.com/PolymerLabs/lit-html/issues/147\n            const previousSibling = node.previousSibling;\n            if (previousSibling === null || previousSibling !== previousNode ||\n                previousSibling.nodeType !== Node.TEXT_NODE) {\n              parent.insertBefore(createMarker(), node);\n            } else {\n              index--;\n            }\n            this.parts.push({type: 'node', index: index++});\n            nodesToRemove.push(node);\n            // If we don't have a nextSibling add a marker node.\n            // We don't have to check if the next node is going to be removed,\n            // because that node will induce a new marker if so.\n            if (node.nextSibling === null) {\n              parent.insertBefore(createMarker(), node);\n            } else {\n              index--;\n            }\n            currentNode = previousNode;\n            partIndex++;\n          } else {\n            let i = -1;\n            while ((i = node.nodeValue!.indexOf(marker, i + 1)) !== -1) {\n              // Comment node has a binding marker inside, make an inactive part\n              // The binding won't work, but subsequent bindings will\n              // TODO (justinfagnani): consider whether it's even worth it to\n              // make bindings in comments work\n              this.parts.push({type: 'node', index: -1});\n            }\n          }\n        }\n      }\n    };\n    _prepareTemplate(element);\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  type: 'node',\n  index: number\n}|{type: 'attribute', index: number, name: string, strings: string[]};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#attributes-0\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-character\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \\x09\\x0a\\x0c\\x0d\"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\nconst walkerNodeFilter =\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT;\n\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(\n    template: Template, nodesToRemove: Set<Node>) {\n  const {element: {content}, parts} = template;\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null as any, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let part = parts[partIndex];\n  let nodeIndex = -1;\n  let removeCount = 0;\n  const nodesToRemoveInTemplate = [];\n  let currentRemovingNode: Node|null = null;\n  while (walker.nextNode()) {\n    nodeIndex++;\n    const node = walker.currentNode as Element;\n    // End removal if stepped past the removing node\n    if (node.previousSibling === currentRemovingNode) {\n      currentRemovingNode = null;\n    }\n    // A node to remove was found in the template\n    if (nodesToRemove.has(node)) {\n      nodesToRemoveInTemplate.push(node);\n      // Track node we're removing\n      if (currentRemovingNode === null) {\n        currentRemovingNode = node;\n      }\n    }\n    // When removing, increment count by which to adjust subsequent part indices\n    if (currentRemovingNode !== null) {\n      removeCount++;\n    }\n    while (part !== undefined && part.index === nodeIndex) {\n      // If part is in a removed node deactivate it by setting index to -1 or\n      // adjust the index as needed.\n      part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n      // go to the next active part.\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n      part = parts[partIndex];\n    }\n  }\n  nodesToRemoveInTemplate.forEach((n) => n.parentNode!.removeChild(n));\n}\n\nconst countNodes = (node: Node) => {\n  let count = (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) ? 0 : 1;\n  const walker =\n      document.createTreeWalker(node, walkerNodeFilter, null as any, false);\n  while (walker.nextNode()) {\n    count++;\n  }\n  return count;\n};\n\nconst nextActiveIndexInTemplateParts =\n    (parts: TemplatePart[], startIndex: number = -1) => {\n      for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(\n    template: Template, node: Node, refNode: Node|null = null) {\n  const {element: {content}, parts} = template;\n  // If there's no refNode, then put node at end of template.\n  // No part indices need to be shifted in this case.\n  if (refNode === null || refNode === undefined) {\n    content.appendChild(node);\n    return;\n  }\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null as any, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let insertCount = 0;\n  let walkerIndex = -1;\n  while (walker.nextNode()) {\n    walkerIndex++;\n    const walkerNode = walker.currentNode as Element;\n    if (walkerNode === refNode) {\n      insertCount = countNodes(node);\n      refNode.parentNode!.insertBefore(node, refNode);\n    }\n    while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n      // If we've inserted the node, simply adjust all subsequent parts\n      if (insertCount > 0) {\n        while (partIndex !== -1) {\n          parts[partIndex].index += insertCount;\n          partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n        return;\n      }\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as any).polyfillWrapFlushCallback !== undefined;\n\n/**\n * Reparents nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), into another container (could be the same container), before\n * `beforeNode`. If `beforeNode` is null, it appends the nodes to the\n * container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      let node = start;\n      while (node !== end) {\n        const n = node!.nextSibling;\n        container.insertBefore(node!, before as Node);\n        node = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), from `container`.\n */\nexport const removeNodes =\n    (container: Node, startNode: Node|null, endNode: Node|null = null):\n        void => {\n          let node = startNode;\n          while (node !== endNode) {\n            const n = node!.nextSibling;\n            container.removeChild(node!);\n            node = n;\n          }\n        };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<any, Boolean>();\n\nexport interface Directive<P = Part> {\n  (part: P): void;\n}\n\nexport const directive = <P = Part>(f: Directive<P>): Directive<P> => {\n  directives.set(f, true);\n  return f;\n};\n\nexport const isDirective = (o: any) =>\n    typeof o === 'function' && directives.has(o);\n","/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  value: any;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: any): void;\n\n  /**\n   * Commits the current part value, cause it to actually be written to the DOM.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {TemplateFactory} from './template-factory.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  _parts: Array<Part|undefined> = [];\n  processor: TemplateProcessor;\n  _getTemplate: TemplateFactory;\n  template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      getTemplate: TemplateFactory) {\n    this.template = template;\n    this.processor = processor;\n    this._getTemplate = getTemplate;\n  }\n\n  update(values: any[]) {\n    let i = 0;\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // When using the Custom Elements polyfill, clone the node, rather than\n    // importing it, to keep the fragment in the template's document. This\n    // leaves the fragment inert so custom elements won't upgrade and\n    // potentially modify their contents by creating a polyfilled ShadowRoot\n    // while we traverse the tree.\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const parts = this.template.parts;\n    let partIndex = 0;\n    let nodeIndex = 0;\n    const _prepareInstance = (fragment: DocumentFragment) => {\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          fragment,\n          133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n          null as any,\n          false);\n      let node = walker.nextNode();\n      // Loop through all the nodes and parts of a template\n      while (partIndex < parts.length && node !== null) {\n        const part = parts[partIndex];\n        // Consecutive Parts may have the same node index, in the case of\n        // multiple bound attributes on an element. So each iteration we either\n        // increment the nodeIndex, if we aren't on a node with a part, or the\n        // partIndex if we are. By not incrementing the nodeIndex when we find a\n        // part, we allow for the next part to be associated with the current\n        // node if neccessasry.\n        if (!isTemplatePartActive(part)) {\n          this._parts.push(undefined);\n          partIndex++;\n        } else if (nodeIndex === part.index) {\n          if (part.type === 'node') {\n            const part = this.processor.handleTextExpression(this._getTemplate);\n            part.insertAfterNode(node);\n            this._parts.push(part);\n          } else {\n            this._parts.push(...this.processor.handleAttributeExpressions(\n                node as Element, part.name, part.strings));\n          }\n          partIndex++;\n        } else {\n          nodeIndex++;\n          if (node.nodeName === 'TEMPLATE') {\n            _prepareInstance((node as HTMLTemplateElement).content);\n          }\n          node = walker.nextNode();\n        }\n      }\n    };\n    _prepareInstance(fragment);\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n\ndeclare global {\n  class CustomElementRegistry {\n    upgrade(node: Node): void;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {lastAttributeNameRegex, marker, nodeMarker, rewritesStyleAttribute} from './template.js';\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  strings: TemplateStringsArray;\n  values: any[];\n  type: string;\n  processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: any[], type: string,\n      processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a <template> element.\n   */\n  getHTML(): string {\n    const l = this.strings.length - 1;\n    let html = '';\n    let isTextBinding = true;\n    for (let i = 0; i < l; i++) {\n      const s = this.strings[i];\n      html += s;\n      const close = s.lastIndexOf('>');\n      // We're in a text position if the previous string closed its last tag, an\n      // attribute position if the string opened an unclosed tag, and unchanged\n      // if the string had no brackets at all:\n      //\n      // \"...>...\": text position. open === -1, close > -1\n      // \"...<...\": attribute position. open > -1\n      // \"...\": no change. open === -1, close === -1\n      isTextBinding =\n          (close > -1 || isTextBinding) && s.indexOf('<', close + 1) === -1;\n\n      if (!isTextBinding && rewritesStyleAttribute) {\n        html = html.replace(lastAttributeNameRegex, (match, p1, p2, p3) => {\n          return (p2 === 'style') ? `${p1}style$${p3}` : match;\n        });\n      }\n      html += isTextBinding ? nodeMarker : marker;\n    }\n    html += this.strings[l];\n    return html;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTMl in an <svg> tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the <svg> tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, Part} from './part.js';\nimport {TemplateFactory} from './template-factory.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\nexport const isPrimitive = (value: any) =>\n    (value === null ||\n     !(typeof value === 'object' || typeof value === 'function'));\n\n/**\n * Sets attribute values for AttributeParts, so that the value is only set once\n * even if there are multiple parts for an attribute.\n */\nexport class AttributeCommitter {\n  element: Element;\n  name: string;\n  strings: string[];\n  parts: AttributePart[];\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      this.parts[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): any {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (v != null &&\n            (Array.isArray(v) || typeof v !== 'string' && v[Symbol.iterator])) {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        } else {\n          text += typeof v === 'string' ? v : String(v);\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue());\n    }\n  }\n}\n\nexport class AttributePart implements Part {\n  committer: AttributeCommitter;\n  value: any = undefined;\n\n  constructor(comitter: AttributeCommitter) {\n    this.committer = comitter;\n  }\n\n  setValue(value: any): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\nexport class NodePart implements Part {\n  templateFactory: TemplateFactory;\n  startNode!: Node;\n  endNode!: Node;\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(templateFactory: TemplateFactory) {\n    this.templateFactory = templateFactory;\n  }\n\n  /**\n   * Inserts this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part between `ref` and `ref`'s next sibling. Both `ref` and\n   * its next sibling must be static, unchanging nodes such as those that appear\n   * in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part._insert(this.startNode = createMarker());\n    part._insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Appends this part after `ref`\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref._insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    const value = this._pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this._commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this._commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this._commitNode(value);\n    } else if (Array.isArray(value) || value[Symbol.iterator]) {\n      this._commitIterable(value);\n    } else if (value.then !== undefined) {\n      this._commitPromise(value);\n    } else {\n      // Fallback, will render the string representation\n      this._commitText(value);\n    }\n  }\n\n  private _insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private _commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this._insert(value);\n    this.value = value;\n  }\n\n  private _commitText(value: string): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === Node.TEXT_NODE) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      node.textContent = value;\n    } else {\n      this._commitNode(document.createTextNode(\n          typeof value === 'string' ? value : String(value)));\n    }\n    this.value = value;\n  }\n\n  private _commitTemplateResult(value: TemplateResult): void {\n    const template = this.templateFactory(value);\n    if (this.value && this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use it's syntax extension, etc. The template factory comes\n      // from the render function so that it can control caching.\n      const instance =\n          new TemplateInstance(template, value.processor, this.templateFactory);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this._commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private _commitIterable(value: any): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.templateFactory);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart!.endNode);\n    }\n  }\n\n  private _commitPromise(value: Promise<any>): void {\n    this.value = value;\n    value.then((v: any) => {\n      if (this.value === value) {\n        this.setValue(v);\n        this.commit();\n      }\n    });\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  element: Element;\n  name: string;\n  strings: string[];\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n    const value = !!this._pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n    }\n    this.value = value;\n    this._pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  single: boolean;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\nexport class EventPart implements Part {\n  element: Element;\n  eventName: string;\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(element: Element, eventName: string) {\n    this.element = element;\n    this.eventName = eventName;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n    if ((this._pendingValue == null) !== (this.value == null)) {\n      if (this._pendingValue == null) {\n        this.element.removeEventListener(this.eventName, this);\n      } else {\n        this.element.addEventListener(this.eventName, this);\n      }\n    }\n    this.value = this._pendingValue;\n    this._pendingValue = noChange;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.element, event);\n    } else if (typeof this.value.handleEvent === 'function') {\n      this.value.handleEvent(event);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = new Map<TemplateStringsArray, Template>();\n    templateCaches.set(result.type, templateCache);\n  }\n  let template = templateCache.get(result.strings);\n  if (template === undefined) {\n    template = new Template(result, result.getTemplateElement());\n    templateCache.set(result.strings, template);\n  }\n  return template;\n}\n\n// The first argument to JS template tags retain identity across multiple\n// calls to a tag for the same literal, so we can cache work done per literal\n// in a Map.\nexport const templateCaches =\n    new Map<string, Map<TemplateStringsArray, Template>>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {templateFactory as defaultTemplateFactory, TemplateFactory} from './template-factory.js';\nimport {TemplateResult} from './template-result.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param templateFactory a function to create a Template or retreive one from\n *     cache.\n */\nexport function render(\n    result: TemplateResult,\n    container: Element|DocumentFragment,\n    templateFactory: TemplateFactory = defaultTemplateFactory) {\n  let part = parts.get(container);\n  if (part === undefined) {\n    removeNodes(container, container.firstChild);\n    parts.set(container, part = new NodePart(templateFactory));\n    part.appendInto(container);\n  }\n  part.setValue(result);\n  part.commit();\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateFactory} from '../lit-html.js';\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(element: Element, name: string, strings: string[]):\n      Part[] {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const comitter = new PropertyCommitter(element, name.slice(1), strings);\n      return comitter.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1))];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const comitter = new AttributeCommitter(element, name, strings);\n    return comitter.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(templateFactory: TemplateFactory) {\n    return new NodePart(templateFactory);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport * from './lib/template-result.js';\nexport * from './lib/template.js';\nexport * from './lib/template-processor.js';\nexport * from './lib/default-template-processor.js';\nexport * from './lib/template-instance.js';\nexport * from './lib/part.js';\nexport * from './lib/parts.js';\nexport * from './lib/dom.js';\nexport * from './lib/directive.js';\nexport * from './lib/render.js';\nexport * from './lib/template-factory.js';\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: any[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: any[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {insertNodeIntoTemplate, removeNodesFromTemplate} from './modify-template.js';\nimport {parts, render as litRender} from './render.js';\nimport {templateCaches} from './template-factory.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {Template} from './template.js';\n\nexport {html, svg, TemplateResult} from '../lit-html.js';\n\ndeclare global {\n  interface Window {\n    ShadyCSS: any;\n  }\n  class ShadowRoot {}\n}\n\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type: string, scopeName: string) =>\n    `${type}--${scopeName}`;\n\nlet compatibleShadyCSSVersion = true;\n\nif (typeof window.ShadyCSS === 'undefined') {\n  compatibleShadyCSSVersion = false;\n} else if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n  console.warn(\n      `Incompatible ShadyCSS version detected.` +\n      `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and` +\n      `@webcomponents/shadycss@1.3.1.`);\n  compatibleShadyCSSVersion = false;\n}\n\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName: string) =>\n    (result: TemplateResult) => {\n      const cacheKey = getTemplateCacheKey(result.type, scopeName);\n      let templateCache = templateCaches.get(cacheKey);\n      if (templateCache === undefined) {\n        templateCache = new Map<TemplateStringsArray, Template>();\n        templateCaches.set(cacheKey, templateCache);\n      }\n      let template = templateCache.get(result.strings);\n      if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n          window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.set(result.strings, template);\n      }\n      return template;\n    };\n\n\nconst TEMPLATE_TYPES = ['html', 'svg'];\n\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nfunction removeStylesFromLitTemplates(scopeName: string) {\n  TEMPLATE_TYPES.forEach((type) => {\n    const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n    if (templates !== undefined) {\n      templates.forEach((template) => {\n        const {element: {content}} = template;\n        // IE 11 doesn't support the iterable param Set constructor\n        const styles = new Set<Element>();\n        Array.from(content.querySelectorAll('style')).forEach((s: Element) => {\n          styles.add(s);\n        });\n        removeNodesFromTemplate(template, styles);\n      });\n    }\n  });\n}\n\nconst shadyRenderSet = new Set<string>();\n\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles =\n    (renderedDOM: DocumentFragment, template: Template, scopeName: string) => {\n      shadyRenderSet.add(scopeName);\n      // Move styles out of rendered DOM and store.\n      const styles = renderedDOM.querySelectorAll('style');\n      // If there are no styles, there's no work to do.\n      if (styles.length === 0) {\n        return;\n      }\n      const condensedStyle = document.createElement('style');\n      // Collect styles into a single style. This helps us make sure ShadyCSS\n      // manipulations will not prevent us from being able to fix up template\n      // part indices.\n      // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n      // currently does this anyway. When it does not, this should be changed.\n      for (let i = 0; i < styles.length; i++) {\n        const style = styles[i];\n        style.parentNode!.removeChild(style);\n        condensedStyle.textContent! += style.textContent;\n      }\n      // Remove styles from nested templates in this scope.\n      removeStylesFromLitTemplates(scopeName);\n      // And then put the condensed style into the \"root\" template passed in as\n      // `template`.\n      insertNodeIntoTemplate(\n          template, condensedStyle, template.element.content.firstChild);\n      // Note, it's important that ShadyCSS gets the template that `lit-html`\n      // will actually render so that it can update the style inside when\n      // needed (e.g. @apply native Shadow DOM case).\n      window.ShadyCSS.prepareTemplateStyles(template.element, scopeName);\n      if (window.ShadyCSS.nativeShadow) {\n        // When in native Shadow DOM, re-add styling to rendered content using\n        // the style ShadyCSS produced.\n        const style = template.element.content.querySelector('style')!;\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n      } else {\n        // When not in native Shadow DOM, at this point ShadyCSS will have\n        // removed the style from the lit template and parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        template.element.content.insertBefore(\n            condensedStyle, template.element.content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n      }\n    };\n\nexport function render(\n    result: TemplateResult,\n    container: Element|DocumentFragment,\n    scopeName: string) {\n  const hasRendered = parts.has(container);\n  litRender(result, container, shadyTemplateFactory(scopeName));\n  // When rendering a TemplateResult, scope the template with ShadyCSS\n  if (container instanceof ShadowRoot && compatibleShadyCSSVersion &&\n      result instanceof TemplateResult) {\n    // Scope the element template one time only for this scope.\n    if (!shadyRenderSet.has(scopeName)) {\n      const part = parts.get(container)!;\n      const instance = part.value as TemplateInstance;\n      prepareTemplateStyles(\n          (container as ShadowRoot), instance.template, scopeName);\n    }\n    // Update styling if this is the initial render to this container.\n    if (!hasRendered) {\n      window.ShadyCSS.styleElement((container as ShadowRoot).host);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Converts property values to and from attribute values.\n */\ninterface AttributeSerializer<T = any> {\n\n  /**\n   * Deserializing function called to convert an attribute value to a property\n   * value.\n   */\n  fromAttribute?(value: string): T;\n\n  /**\n   * Serializing function called to convert a property value to an attribute\n   * value.\n   */\n  toAttribute?(value: T): string|null;\n}\n\ntype AttributeType<T = any> = AttributeSerializer<T>|((value: string) => T);\n\n/**\n * Defines options for a property accessor.\n */\nexport interface PropertyDeclaration<T = any> {\n\n  /**\n   * Indicates how and whether the property becomes an observed attribute.\n   * If the value is `false`, the property is not added to `observedAttributes`.\n   * If true or absent, the lowercased property name is observed (e.g. `fooBar`\n   * becomes `foobar`). If a string, the string value is observed (e.g\n   * `attribute: 'foo-bar'`).\n   */\n  attribute?: boolean|string;\n\n  /**\n   * Indicates how to serialize and deserialize the attribute to/from a\n   * property. If this value is a function, it is used to deserialize the\n   * attribute value a the property value. If it's an object, it can have keys\n   * for `fromAttribute` and `toAttribute` where `fromAttribute` is the\n   * deserialize function and `toAttribute` is a serialize function used to set\n   * the property to an attribute. If no `toAttribute` function is provided and\n   * `reflect` is set to `true`, the property value is set directly to the\n   * attribute.\n   */\n  type?: AttributeType<T>;\n\n  /**\n   * Indicates if the property should reflect to an attribute.\n   * If `true`, when the property is set, the attribute is set using the\n   * attribute name determined according to the rules for the `attribute`\n   * property option and the value of the property serialized using the rules\n   * from the `type` property option.\n   */\n  reflect?: boolean;\n\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: T, oldValue: T): boolean;\n}\n\n/**\n * Map of properties to PropertyDeclaration options. For each property an\n * accessor is made, and the property is processed according to the\n * PropertyDeclaration options.\n */\nexport interface PropertyDeclarations {\n  [key: string]: PropertyDeclaration;\n}\n\ntype PropertyDeclarationMap = Map<PropertyKey, PropertyDeclaration>;\n\ntype AttributeMap = Map<string, PropertyKey>;\n\nexport type PropertyValues = Map<PropertyKey, unknown>;\n\n// serializer/deserializers for boolean attribute\nconst fromBooleanAttribute = (value: string) => value !== null;\nconst toBooleanAttribute = (value: string) => value ? '' : null;\n\nexport interface HasChanged {\n  (value: unknown, old: unknown): boolean;\n}\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual: HasChanged = (value: unknown, old: unknown): boolean => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultPropertyDeclaration: PropertyDeclaration = {\n  attribute : true,\n  type : String,\n  reflect : false,\n  hasChanged : notEqual\n};\n\nconst microtaskPromise = new Promise((resolve) => resolve(true));\n\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING = 1 << 3;\ntype UpdateState = typeof STATE_HAS_UPDATED|typeof STATE_UPDATE_REQUESTED|\n    typeof STATE_IS_REFLECTING;\n\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport abstract class UpdatingElement extends HTMLElement {\n\n  /**\n   * Maps attribute names to properties; for example `foobar` attribute\n   * to `fooBar` property.\n   */\n  private static _attributeToPropertyMap: AttributeMap = new Map();\n\n  /**\n   * Marks class as having finished creating properties.\n   */\n  private static _finalized = true;\n\n  /**\n   * Memoized list of all class properties, including any superclass properties.\n   */\n  private static _classProperties: PropertyDeclarationMap = new Map();\n\n  static properties: PropertyDeclarations = {};\n\n  /**\n   * Returns a list of attributes corresponding to the registered properties.\n   */\n  static get observedAttributes() {\n    // note: piggy backing on this to ensure we're _finalized.\n    this._finalize();\n    const attributes = [];\n    for (const [p, v] of this._classProperties) {\n      const attr = this._attributeNameForProperty(p, v);\n      if (attr !== undefined) {\n        this._attributeToPropertyMap.set(attr, p);\n        attributes.push(attr);\n      }\n    }\n    return attributes;\n  }\n\n  /**\n   * Creates a property accessor on the element prototype if one does not exist.\n   * The property setter calls the property's `hasChanged` property option\n   * or uses a strict identity check to determine whether or not to request\n   * an update.\n   */\n  static createProperty(name: PropertyKey,\n                        options:\n                            PropertyDeclaration = defaultPropertyDeclaration) {\n    // ensure private storage for property declarations.\n    if (!this.hasOwnProperty('_classProperties')) {\n      this._classProperties = new Map();\n      // NOTE: Workaround IE11 not supporting Map constructor argument.\n      const superProperties = Object.getPrototypeOf(this)._classProperties;\n      if (superProperties !== undefined) {\n        superProperties.forEach((v: any, k: PropertyKey) =>\n                                    this._classProperties.set(k, v));\n      }\n    }\n    this._classProperties.set(name, options);\n    // Allow user defined accessors by not replacing an existing own-property\n    // accessor.\n    if (this.prototype.hasOwnProperty(name)) {\n      return;\n    }\n    const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n    Object.defineProperty(this.prototype, name, {\n      get() { return this[key]; },\n      set(value) {\n        const oldValue = this[name];\n        this[key] = value;\n        this._requestPropertyUpdate(name, oldValue, options);\n      },\n      configurable : true,\n      enumerable : true\n    });\n  }\n\n  /**\n   * Creates property accessors for registered properties and ensures\n   * any superclasses are also finalized.\n   */\n  private static _finalize() {\n    if (this.hasOwnProperty('_finalized') && this._finalized) {\n      return;\n    }\n    // finalize any superclasses\n    const superCtor = Object.getPrototypeOf(this);\n    if (typeof superCtor._finalize === 'function') {\n      superCtor._finalize();\n    }\n    this._finalized = true;\n    // initialize Map populated in observedAttributes\n    this._attributeToPropertyMap = new Map();\n    // make any properties\n    const props = this.properties;\n    // support symbols in properties (IE11 does not support this)\n    const propKeys = [\n      ...Object.getOwnPropertyNames(props),\n      ...(typeof Object.getOwnPropertySymbols === 'function')\n          ? Object.getOwnPropertySymbols(props)\n          : []\n    ];\n    for (const p of propKeys) {\n      // note, use of `any` is due to TypeSript lack of support for symbol in\n      // index types\n      this.createProperty(p, (props as any)[p]);\n    }\n  }\n\n  /**\n   * Returns the property name for the given attribute `name`.\n   */\n  private static _attributeNameForProperty(name: PropertyKey,\n                                           options?: PropertyDeclaration) {\n    const attribute = options !== undefined && options.attribute;\n    return attribute === false\n               ? undefined\n               : (typeof attribute === 'string'\n                      ? attribute\n                      : (typeof name === 'string' ? name.toLowerCase()\n                                                  : undefined));\n  }\n\n  /**\n   * Returns true if a property should request an update.\n   * Called when a property value is set and uses the `hasChanged`\n   * option for the property if present or a strict identity check.\n   */\n  private static _valueHasChanged(value: unknown, old: unknown,\n                                  hasChanged: HasChanged = notEqual) {\n    return hasChanged(value, old);\n  }\n\n  /**\n   * Returns the property value for the given attribute value.\n   * Called via the `attributeChangedCallback` and uses the property's `type`\n   * or `type.fromAttribute` property option.\n   */\n  private static _propertyValueFromAttribute(value: string,\n                                             options?: PropertyDeclaration) {\n    const type = options && options.type;\n    if (type === undefined) {\n      return value;\n    }\n    // Note: special case `Boolean` so users can use it as a `type`.\n    const fromAttribute =\n        type === Boolean\n            ? fromBooleanAttribute\n            : (typeof type === 'function' ? type : type.fromAttribute);\n    return fromAttribute ? fromAttribute(value) : value;\n  }\n\n  /**\n   * Returns the attribute value for the given property value. If this\n   * returns undefined, the property will *not* be reflected to an attribute.\n   * If this returns null, the attribute will be removed, otherwise the\n   * attribute will be set to the value.\n   * This uses the property's `reflect` and `type.toAttribute` property options.\n   */\n  private static _propertyValueToAttribute(value: unknown,\n                                           options?: PropertyDeclaration) {\n    if (options === undefined || options.reflect === undefined) {\n      return;\n    }\n    // Note: special case `Boolean` so users can use it as a `type`.\n    const toAttribute =\n        options.type === Boolean\n            ? toBooleanAttribute\n            : (options.type &&\n                   (options.type as AttributeSerializer).toAttribute ||\n               String);\n    return toAttribute(value);\n  }\n\n  private _updateState: UpdateState = 0;\n  private _instanceProperties: PropertyValues|undefined = undefined;\n  private _updatePromise: Promise<unknown> = microtaskPromise;\n\n  /**\n   * Map with keys for any properties that have changed since the last\n   * update cycle with previous values.\n   */\n  private _changedProperties: PropertyValues = new Map();\n\n  /**\n   * Map with keys of properties that should be reflected when updated.\n   */\n  private _reflectingProperties: Map<PropertyKey, PropertyDeclaration>|\n      undefined = undefined;\n\n  /**\n   * Node or ShadowRoot into which element DOM should be rendered. Defaults\n   * to an open shadowRoot.\n   */\n  protected renderRoot?: Element|DocumentFragment;\n\n  constructor() {\n    super();\n    this.initialize();\n  }\n\n  /**\n   * Performs element initialization. By default this calls `createRenderRoot`\n   * to create the element `renderRoot` node and captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    this.renderRoot = this.createRenderRoot();\n    this._saveInstanceProperties();\n  }\n\n  /**\n   * Fixes any properties set on the instance before upgrade time.\n   * Otherwise these would shadow the accessor and break these properties.\n   * The properties are stored in a Map which is played back after the\n   * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n   * (<=41), properties created for native platform properties like (`id` or\n   * `name`) may not have default values set in the element constructor. On\n   * these browsers native properties appear on instances and therefore their\n   * default value will overwrite any element default (e.g. if the element sets\n   * this.id = 'id' in the constructor, the 'id' will become '' since this is\n   * the native platform default).\n   */\n  private _saveInstanceProperties() {\n    for (const [p] of (this.constructor as typeof UpdatingElement)\n             ._classProperties) {\n      if (this.hasOwnProperty(p)) {\n        const value = this[p as keyof this];\n        delete this[p as keyof this];\n        if (!this._instanceProperties) {\n          this._instanceProperties = new Map();\n        }\n        this._instanceProperties.set(p, value);\n      }\n    }\n  }\n\n  /**\n   * Applies previously saved instance properties.\n   */\n  private _applyInstanceProperties() {\n    for (const [p, v] of this._instanceProperties!) {\n      (this as any)[p] = v;\n    }\n    this._instanceProperties = undefined;\n  }\n\n  /**\n   * Returns the node into which the element should render and by default\n   * creates and returns an open shadowRoot. Implement to customize where the\n   * element's DOM is rendered. For example, to render into the element's\n   * childNodes, return `this`.\n   * @returns {Element|DocumentFragment} Returns a node into which to render.\n   */\n  protected createRenderRoot(): Element|ShadowRoot {\n    return this.attachShadow({mode : 'open'});\n  }\n\n  /**\n   * Uses ShadyCSS to keep element DOM updated.\n   */\n  connectedCallback() {\n    if ((this._updateState & STATE_HAS_UPDATED)) {\n      if (window.ShadyCSS !== undefined) {\n        window.ShadyCSS.styleElement(this);\n      }\n    } else {\n      this.requestUpdate();\n    }\n  }\n\n  /**\n   * Synchronizes property values when attributes change.\n   */\n  attributeChangedCallback(name: string, old: string, value: string) {\n    if (old !== value) {\n      this._attributeToProperty(name, value);\n    }\n  }\n\n  private _propertyToAttribute(\n      name: PropertyKey, value: unknown,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const attrValue = ctor._propertyValueToAttribute(value, options);\n    if (attrValue !== undefined) {\n      const attr = ctor._attributeNameForProperty(name, options);\n      if (attr !== undefined) {\n        // Track if the property is being reflected to avoid\n        // setting the property again via `attributeChangedCallback`. Note:\n        // 1. this takes advantage of the fact that the callback is synchronous.\n        // 2. will behave incorrectly if multiple attributes are in the reaction\n        // stack at time of calling. However, since we process attributes\n        // in `update` this should not be possible (or an extreme corner case\n        // that we'd like to discover).\n        // mark state reflecting\n        this._updateState = this._updateState | STATE_IS_REFLECTING;\n        if (attrValue === null) {\n          this.removeAttribute(attr);\n        } else {\n          this.setAttribute(attr, attrValue);\n        }\n        // mark state not reflecting\n        this._updateState = this._updateState & ~STATE_IS_REFLECTING;\n      }\n    }\n  }\n\n  private _attributeToProperty(name: string, value: string) {\n    // Use tracking info to avoid deserializing attribute value if it was\n    // just set from a property setter.\n    if (!(this._updateState & STATE_IS_REFLECTING)) {\n      const ctor = (this.constructor as typeof UpdatingElement);\n      const propName = ctor._attributeToPropertyMap.get(name);\n      if (propName !== undefined) {\n        const options = ctor._classProperties.get(propName);\n        this[propName as keyof this] =\n            ctor._propertyValueFromAttribute(value, options);\n      }\n    }\n  }\n\n  /**\n   * Requests an update which is processed asynchronously. This should\n   * be called when an element should update based on some state not triggered\n   * by setting a property. In this case, pass no arguments. It should also be\n   * called when manually implementing a property setter. In this case, pass the\n   * property `name` and `oldValue` to ensure that any configured property\n   * options are honored. Returns the `updateComplete` Promise which is resolved\n   * when the update completes.\n   *\n   * @param name {PropertyKey} (optional) name of requesting property\n   * @param oldValue {any} (optional) old value of requesting property\n   * @returns {Promise} A Promise that is resolved when the update completes.\n   */\n  requestUpdate(name?: PropertyKey, oldValue?: any) {\n    if (name !== undefined) {\n      const options = (this.constructor as typeof UpdatingElement)\n                          ._classProperties.get(name) ||\n                      defaultPropertyDeclaration;\n      return this._requestPropertyUpdate(name, oldValue, options);\n    }\n    return this._invalidate();\n  }\n\n  /**\n   * Requests an update for a specific property and records change information.\n   * @param name {PropertyKey} name of requesting property\n   * @param oldValue {any} old value of requesting property\n   * @param options {PropertyDeclaration}\n   */\n  private _requestPropertyUpdate(name: PropertyKey, oldValue: any,\n                                 options: PropertyDeclaration) {\n    if (!(this.constructor as typeof UpdatingElement)\n             ._valueHasChanged(this[name as keyof this], oldValue,\n                               options.hasChanged)) {\n      return this.updateComplete;\n    }\n    // track old value when changing.\n    if (!this._changedProperties.has(name)) {\n      this._changedProperties.set(name, oldValue);\n    }\n    // add to reflecting properties set\n    if (options.reflect === true) {\n      if (this._reflectingProperties === undefined) {\n        this._reflectingProperties = new Map();\n      }\n      this._reflectingProperties.set(name, options);\n    }\n    return this._invalidate();\n  }\n\n  /**\n   * Invalidates the element causing it to asynchronously update regardless\n   * of whether or not any property changes are pending. This method is\n   * automatically called when any registered property changes.\n   */\n  private async _invalidate() {\n    if (!this._hasRequestedUpdate) {\n      // mark state updating...\n      this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n      let resolver: any;\n      const previousValidatePromise = this._updatePromise;\n      this._updatePromise = new Promise((r) => resolver = r);\n      await previousValidatePromise;\n      this._validate();\n      resolver!(!this._hasRequestedUpdate);\n    }\n    return this.updateComplete;\n  }\n\n  private get _hasRequestedUpdate() {\n    return (this._updateState & STATE_UPDATE_REQUESTED);\n  }\n\n  /**\n   * Validates the element by updating it.\n   */\n  private _validate() {\n    // Mixin instance properties once, if they exist.\n    if (this._instanceProperties) {\n      this._applyInstanceProperties();\n    }\n    if (this.shouldUpdate(this._changedProperties)) {\n      const changedProperties = this._changedProperties;\n      this.update(changedProperties);\n      this._markUpdated();\n      if (!(this._updateState & STATE_HAS_UPDATED)) {\n        this._updateState = this._updateState | STATE_HAS_UPDATED;\n        this.firstUpdated(changedProperties);\n      }\n      this.updated(changedProperties);\n    } else {\n      this._markUpdated();\n    }\n  }\n  private _markUpdated() {\n    this._changedProperties = new Map();\n    this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n  }\n\n  /**\n   * Returns a Promise that resolves when the element has completed updating.\n   * The Promise value is a boolean that is `true` if the element completed the\n   * update without triggering another update. The Promise result is `false` if\n   * a property was set inside `updated()`. This getter can be implemented to\n   * await additional state. For example, it is sometimes useful to await a\n   * rendered element before fulfilling this Promise. To do this, first await\n   * `super.updateComplete` then any subsequent state.\n   *\n   * @returns {Promise} The Promise returns a boolean that indicates if the\n   * update resolved without triggering another update.\n   */\n  get updateComplete() { return this._updatePromise; }\n\n  /**\n   * Controls whether or not `update` should be called when the element requests\n   * an update. By default, this method always returns `true`, but this can be\n   * customized to control when to update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected shouldUpdate(_changedProperties: PropertyValues): boolean {\n    return true;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes.\n   * It can be overridden to render and keep updated DOM in the element's\n   * `renderRoot`. Setting properties inside this method will *not* trigger\n   * another update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(_changedProperties: PropertyValues) {\n    if (this._reflectingProperties !== undefined &&\n        this._reflectingProperties.size > 0) {\n      for (const [k, v] of this._reflectingProperties) {\n        this._propertyToAttribute(k, this[k as keyof this], v);\n      }\n      this._reflectingProperties = undefined;\n    }\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected updated(_changedProperties: PropertyValues) {}\n\n  /**\n   * Invoked when the element is first updated. Implement to perform one time\n   * work on the element after update.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected firstUpdated(_changedProperties: PropertyValues) {}\n}","\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {LitElement} from '../lit-element.js';\n\nimport {PropertyDeclaration, UpdatingElement} from './updating-element.js';\n\nexport type Constructor<T> = {\n  new (...args: unknown[]): T\n};\n\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * @param tagName the name of the custom element to define\n *\n * In TypeScript, the `tagName` passed to `customElement` must be a key of the\n * `HTMLElementTagNameMap` interface. To add your element to the interface,\n * declare the interface in this module:\n *\n *     @customElement('my-element')\n *     export class MyElement extends LitElement {}\n *\n *     declare global {\n *       interface HTMLElementTagNameMap {\n *         'my-element': MyElement;\n *       }\n *     }\n *\n */\nexport const customElement = (tagName: keyof HTMLElementTagNameMap) =>\n    (clazz: Constructor<HTMLElement>) => {\n      window.customElements.define(tagName, clazz);\n      // Cast as any because TS doesn't recognize the return type as being a\n      // subtype of the decorated class when clazz is typed as\n      // `Constructor<HTMLElement>` for some reason. `Constructor<HTMLElement>`\n      // is helpful to make sure the decorator is applied to elements however.\n      return clazz as any;\n    };\n\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A `PropertyDeclaration` may optionally be\n * supplied to configure property features.\n */\nexport const property = (options?: PropertyDeclaration) => (proto: Object,\n                                                            name: string) => {\n  (proto.constructor as typeof UpdatingElement).createProperty(name, options);\n};\n\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n */\nexport const query = _query((target: NodeSelector, selector: string) =>\n                                target.querySelector(selector));\n\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n */\nexport const queryAll = _query((target: NodeSelector, selector: string) =>\n                                   target.querySelectorAll(selector));\n\n/**\n * Base-implementation of `@query` and `@queryAll` decorators.\n *\n * @param queryFn exectute a `selector` (ie, querySelector or querySelectorAll)\n * against `target`.\n */\nfunction _query<T>(queryFn: (target: NodeSelector, selector: string) => T) {\n  return (selector: string) => (proto: any, propName: string) => {\n    Object.defineProperty(proto, propName, {\n      get(this: LitElement) { return queryFn(this.renderRoot!, selector); },\n      enumerable : true,\n      configurable : true,\n    });\n  };\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport {TemplateResult} from 'lit-html';\nimport {render} from 'lit-html/lib/shady-render';\n\nimport {PropertyValues, UpdatingElement} from './lib/updating-element.js';\n\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport {html, svg} from 'lit-html/lit-html';\n\nexport abstract class LitElement extends UpdatingElement {\n\n  /**\n   * Render method used to render the lit-html TemplateResult to the element's\n   * DOM.\n   * @param {TemplateResult} Template to render.\n   * @param {Element|DocumentFragment} Node into which to render.\n   * @param {String} Element name.\n   */\n  static render = render;\n\n  /**\n   * Updates the element. This method reflects property values to attributes\n   * and calls `render` to render DOM via lit-html. Setting properties inside\n   * this method will *not* trigger another update.\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(changedProperties: PropertyValues) {\n    super.update(changedProperties);\n    if (typeof this.render === 'function') {\n      (this.constructor as typeof LitElement)\n          .render(this.render(), this.renderRoot!, this.localName!);\n    } else {\n      throw new Error('render() not implemented');\n    }\n  }\n\n  /**\n   Invoked on each update to perform rendering tasks. This method must return a\n   lit-html TemplateResult. Setting properties inside this method will *not*\n   trigger the element to update.\n   * @returns {TemplateResult} Must return a lit-html TemplateResult.\n   */\n  protected abstract render(): TemplateResult;\n}\n","import { LitElement, html, property } from '@polymer/lit-element';\nimport { getState } from 'domain/store/main';\nimport { updateProducts } from 'domain/store/reducers';\n\n\n\n\nclass CustomTag extends LitElement {\n  state: {\n    currentPage: string\n    products: any;\n  }\n  currentPage: string;\n  constructor() {\n    super();\n    this.state = getState();\n  }\n\n  static get properties() {\n    return {\n      state: { type: Object },\n      currentPage: {type: String }\n    };\n  }\n  attributeChangedCallback() {\n    //add diff here\n    this.state = getState();\n    console.log('[state update]', this.state);\n    this.render();\n  }\n  _html(currentPage){\n    switch (currentPage) {\n      case 'ADD':\n      return html`<y-add .state='${this.state}'></y-add>`;\n      case 'ENTRY':\n       return html`<y-entry .state='${this.state}'></y-entry>`\n      case 'SEARCH':\n        return html`<y-search .state='${this.state}'></y-search>`\n      case 'CREATE':\n        return html`<y-create .state='${this.state}'></y-create>`\n    }\n  }\n\n  render() {\n    return html`${this._html(this.state.currentPage)}`\n  }\n}\ncustomElements.define('y-router', CustomTag);\n","import { store, product } from 'domain/store/main';\n\nexport function updateCurrentPage(currentPage){\n  return store.swap(oldState => ({...oldState, currentPage}))\n}\n\nexport function updateProducts(data){\n   return store.swap(oldstate => ({\n    ...oldstate,\n    products: data\n  }))\n}\n\nexport function updateAdditionLocation(location:string) {\n  return store.swap(oldstate => ({\n   ...oldstate,\n   addition: {\n     ...oldstate.addition,\n     location: location\n   }\n }))\n}\n\nexport function updateGender(gender: string) {\n  return store.swap(oldstate => ({\n   ...oldstate,\n      user: {\n        ...oldstate.user,\n        gender: gender\n      }\n  }));\n}\n\n\nexport function updateCreationHead(head: product) {\n  return store.swap(oldstate => ({\n   ...oldstate,\n      user: {\n      ...oldstate.user,\n      creation: {\n        ...oldstate.user.creation,\n        head: head\n      }\n    }\n  }));\n}\n\nexport function updateCreationTorso(torso: product) {\n  return store.swap(oldstate => ({\n   ...oldstate,\n      user: {\n      ...oldstate.user,\n      creation: {\n        ...oldstate.user.creation,\n        torso: torso\n      }\n    }\n  }));\n}\n\nexport function updateCreationHips(hips: product) {\n  return store.swap(oldstate => ({\n   ...oldstate,\n      user: {\n      ...oldstate.user,\n      creation: {\n        ...oldstate.user.creation,\n        hips: hips\n      }\n    }\n  }));\n}\n\nexport function updateCreationLegs(hips: product) {\n  return store.swap(oldstate => ({\n   ...oldstate,\n      user: {\n      ...oldstate.user,\n      creation: {\n        ...oldstate.user.creation,\n        hips: hips\n      }\n    }\n  }));\n}\n\nexport function updateCreationFeet(feet: product) {\n  return store.swap(oldstate => ({\n   ...oldstate,\n      user: {\n      ...oldstate.user,\n      creation: {\n        ...oldstate.user.creation,\n        feet: feet\n      }\n    }\n  }));\n}\n","import page from 'page';\nimport {\n  updateGender,\n  updateCreationHead,\n  updateCreationTorso,\n  updateCreationHips,\n  updateCreationLegs,\n  updateCreationFeet,\n  updateAdditionLocation,\n  updateProducts\n } from 'domain/store/reducers';\nimport { getState } from '../store/main';\nimport { getProducts } from './network';\nimport { normalizeProduct } from './normalize';\n\nexport function onBoarding(gender: string){\n  updateGender(gender);\n  page('/create');\n}\nexport function onLocationChoice(location:string) {\n  updateAdditionLocation(location);\n  page('/add');\n}\nexport async function onloadGetProducts(){\n  await getProducts().then(products => {\n    const normalizedProducts = products.map(product => normalizeProduct(product));\n    updateProducts(normalizedProducts);\n  })\n}\nexport function addAddtion(val) {\n  const state = getState();\n  switch (state.addition.location) {\n    case 'gender':\n      updateGender(val);\n      break;\n      case 'head':\n        updateCreationHead(val);\n      break;\n       case 'torso':\n        updateCreationTorso(val);\n      break;\n      case 'hips':\n        updateCreationHips(val);\n      break;\n     case 'legs':\n        updateCreationLegs(val);\n      break;\n     case 'hips':\n        updateCreationFeet(val);\n      break;\n    default:\n      break;\n  }\n}\n","import { updateProducts } from 'domain/store/reducers';\n\nexport async function getProducts() {\n  const resp = await fetch('https://jsonplaceholder.typicode.com/albums/1/photos');\n  return resp.json();\n}\n\n\n// import { updateProducts } from 'domain/store/reducers';\n// import { ZINC_KEY } from 'vars';\n\n// export async function getProducts() {\n//   // const url = 'https://api.zinc.io/v1/search?query=harajuku%20hat&page=1&retailer=aliexpress'\n//   const searchQuery = 'harajuku hats'\n//   const resp = await fetch(\n//     `https://api.zinc.io/v1/realtime/search?query=${searchQuery}&retailer=aliexpress`,\n//     {\n//       method: 'GET',\n//       headers: {\n//         'Content-Type': 'application/json',\n//         Authorization: 'Basic ' + btoa(`${ZINC_KEY}:`),\n//       },\n//     });\n//   return resp.json();\n// }\n","\nexport function normalizeProduct(data){\n  const product = {\n    price: data.albumId,\n    id: data.id,\n    img: data.thumbnailUrl,\n    likes: 5\n  }\n  return product;\n}\n","const coreColors = {\n  red: '#FF008A',\n  cyan: '#00FBF1',\n  blue: '#2B2DFE',\n  pink: '#FF05FA',\n  green: '#85CF42',\n  orange: '#FA6F0A',\n  yellow: '#FDCA21',\n  purple: '#6A00FD',\n}\nconst hueShades = {\n  redD1: '#AD005E',\n  redL1: '#FF52AF',\n  redL2: '#FF94CE',\n  cyanD1: '#00C2BA',\n  cyanL1: '#80FFFA',\n  cyanL2: '#A8FFFF',\n  blueD1: '#1E20B2',\n  blueL1: '#2426C9',\n  blueL2: '#8A9CFF',\n  pinkD1: '#BA00B6',\n  pinkL1: '#FF61FC',\n  pinkL2: '#FFBDF7',\n  greenD1: '#639932',\n  greenL1: '#9BF44A',\n  greenL2: '#BAFF75',\n  orangeD1: '#DB6109',\n  orangeL1: '#FA8C0A',\n  orangeL2: '#FFAF75',\n  yellowD1: '#CCA31B',\n  yellowL1: '#FAD352',\n  yellowL2: '#ECFF75',\n  purpleD1: '#5100C2',\n  purpleL1: '#964AFF',\n  purpleL2: '#B47DFF',\n}\nconst shades = {\n  grey: '#272738',\n  greyD1: '#08080A',\n  greyL1: '#353552',\n  greyL2: '#444470',\n  blue: '#222278',\n  blueD1: '#121252',\n  blueD2: '#150A52',\n  pink: '#E8D4F9',\n  pinkL1: '#EFDFFF'\n}\n\nconst colors = {\n  shades,\n  ...coreColors,\n  ...hueShades\n}\nexport default colors;\n","import colors from './varibles';\n\nexport function cross(bottom, top){\n  return `linear-gradient(30deg, ${bottom} -8%, ${top} 120%);`\n}\nexport function fade(bottom){\n  return `linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, ${bottom} 100%)`\n}\n\nexport const coreGradients = {\n  RO: cross(colors.red, colors.orangeL1),\n  RY: cross(colors.redL1, colors.yellow),\n  BP: cross(colors.blue, colors.pink),\n  GC: cross(colors.green, colors.cyan),\n  BC: cross(colors.blue, colors.cyan),\n  PC: cross(colors.pink, colors.cyan),\n  PY: cross(colors.pink, colors.yellow),\n};\n\nexport const sizes = {\n  xs: '375px',\n  sm: '425px',\n  md: '768px',\n  lg: '1024px',\n  xl: '1440px'\n}\n\nconst width = 96;\nconst gutter = 4;\n\nexport function container(def){\n  return `\n    width: 90%;\n    margin-left: auto;\n    margin-right: auto;\n  `\n}\nfunction getWidth(width, n1, gutter, n2, n3) {\n  return ( width / n1 ) - (gutter * n2 / n3 );\n}\n\n\nexport function grid(sheet){\n  //http://simplegrid.io/\n  return {\n    'container': container('auto'),\n    'col-1-sm': `width: ${getWidth(width, 12, gutter, 11, 12)}`,\n    'col-2-sm': `width: ${getWidth(width, 6, gutter, 10, 12)}`,\n    'col-3-sm': `width: ${getWidth(width, 4, gutter, 9, 12)}`,\n    '.col-4-sm': `width: ${getWidth(width, 3, gutter, 8, 12)}`,\n    '.col-5-sm': `width: ${getWidth(width, (12/5), gutter, 7, 12)}`,\n    '.col-6-sm': `width: ${getWidth(width, 2, gutter, 7, 12)}`,\n    '.col-7-sm': `width: ${getWidth(width, (12/7), gutter, 5, 12)}`,\n    '.col-8-sm': `width: ${getWidth(width, (12/8), gutter, 4, 12)}`,\n    '.col-9-sm': `width: ${getWidth(width, (12/9), gutter, 3, 12)}`,\n    '.col-10-sm': `width: ${getWidth(width, (12/10), gutter, 2, 12)}`,\n    '.col-11-sm': `width: ${getWidth(width, (12/11), gutter, 1, 12)}`,\n    '.col-12-sm': `width: ${width}`\n  }\n}\n\nexport function mansoryBase(){\n  return `\n    display: flex;\n    flex-flow: row wrap;\n    width: 100%;\n  `\n}\nexport function mansoryBrick() {\n  return `\n   flex: auto;\n   min-width: 150px;\n  `\n}\n","const padding = {\n  top: '16px',\n  bottom: '16px',\n  left: '0px',\n  right: '0px'\n}\nconst borderRadius = '30px';\n\n//transitions on gradients don't work\nexport function feedback(){\n  return `\n    transition: all 3s;\n  `\n}\n\n//move to framework\nexport function buttonBase(){\n  return `\n    ${feedback()}\n    padding-right: ${padding.right};\n    padding-left: ${padding.left};\n    padding-top: ${padding.top};\n    padding-bottom: ${padding.bottom};\n    border-radius: ${borderRadius};\n    border:0;\n    text-decoration: none;\n    background-position: 0px;\n    font-weight: bold;\n    font-family: 'Quicksand', sans-serif;\n    color: #ffffff;\n  `\n}\n","import { LitElement, html, svg } from '@polymer/lit-element';\nimport { getState } from 'domain/store/main';\nimport { onBoarding } from 'domain/middleware/user';\nimport { coreGradients } from 'styles/lib';\nimport { buttonBase } from 'styles/button';\nimport { pageBase } from 'styles/page';\n\nclass ViewTag extends LitElement {\n  state: any\n  pageRouter: any;\n\n  constructor() {\n    super();\n    this.state = getState();\n  }\n  static get properties() {\n    return {\n      state: { type: Object },\n    };\n  }\n  styles(){\n    return html `<style>\n      ${pageBase()}\n      p {\n        font-weight: bold;\n        font-size: 26px;\n        color: #383873;\n        margin: 0 0 16px 0;\n        padding: 0;\n      }\n      .logo {\n        width: auto;\n        height: 35vh;\n        margin: 6vh auto;\n      }\n        button {\n          ${buttonBase()}\n          background: ${coreGradients.BC};\n          clear:both;\n          display:block;\n          width: 100%;\n          font-size: 24px;\n          font-weight: bold;\n          margin-bottom: 14px;\n        }\n        .male { background: ${coreGradients.RY}; }\n        .female { background: ${coreGradients.BP}; }\n        .whatever { background: ${coreGradients.PC}; }\n    </style>`\n  }\n  render() {\n    const { entry } = this.state;\n    return html`\n      <div class=\"page\">\n        <img class=\"logo\" src=\"logo.png\" />\n        <p>${entry.i_like}</p>\n        ${this.styles()}\n        <button class=\"male\" @click=${() => { onBoarding('female') }}>${entry.buttons.male}</button>\n        <button class=\"female\" @click=${() => { onBoarding('female') }}>${entry.buttons.female}</button>\n        <button class=\"whatever\" @click=${() => { onBoarding('female') }} >${entry.buttons.whatever}</button>\n      </div>\n    `\n  }\n}\n\n\ncustomElements.define('y-entry', ViewTag);\n","export function pageBase() {\n  return `\n    .page {\n      display: block;\n      padding: 15px;\n      height: 100%;\n      overflow:hidden;\n    }\n  `\n}\n","import { LitElement, html } from '@polymer/lit-element';\nimport { getState } from 'domain/store/main';\nimport { updateProducts } from 'domain/store/reducers';\nimport { getProducts } from 'domain/middleware/network';\nimport { mansoryBase, mansoryBrick } from 'styles/lib';\nimport { onloadGetProducts } from 'domain/middleware/user';\n\nclass ViewTag extends LitElement {\n  state: any\n  products: any;\n  constructor() {\n    super();\n    onloadGetProducts();\n  }\n  attributeChangedCallback() {\n    //add diff here\n    this.state = getState();\n    this.render();\n  }\n\n  static get properties() {\n    return {\n      state: { type: Object },\n      products: { type: Object }\n    };\n  }\n\n\n  render() {\n    const { products } = this.state;\n    const list = products.map(p => html`<y-product-item .item=\"${p}\" ></y-product-item>`);\n    return html`\n      <div class=\"page\">\n        <style>\n          .page {\n            text-align:center;\n            ${mansoryBase()}\n            padding-top: 8px;\n            padding-bottom: 8px;\n          }\n          y-product-item {\n            height: 58vw;\n            padding: 0 4px;\n            margin: 0 4px 16px 4px;\n            ${mansoryBrick()}\n          }\n        </style>\n        ${list}\n      </div>\n    `\n  }\n}\n\ncustomElements.define('y-add', ViewTag);\n","import { LitElement, html, svg } from '@polymer/lit-element';\nimport { getState } from 'domain/store/main';\nimport { onBoarding, onLocationChoice } from 'domain/middleware/user';\nimport { coreGradients } from 'styles/lib';\nimport { pageBase } from 'styles/page';\n\nclass ViewTag extends LitElement {\n  state: any\n\n  constructor() {\n    super();\n    this.state = getState();\n  }\n  static get properties() {\n    return {\n      state: { type: Object },\n    };\n  }\n\n  render() {\n    const { user } = this.state;\n    return html`\n      <div class=\"page\">\n        ${this.styles()}\n        <p>Choose a body part</p>\n        <div class=\"create ${user.gender}\">\n          <div class=\"part head\" @click=\"${() => onLocationChoice('head')}\"></div>\n          <div class=\"part torso\" @click=\"${() => onLocationChoice('torso')}\"></div>\n          <div class=\"part hips\" @click=\"${() => onLocationChoice('hips')}\"></div>\n          <div class=\"part legs\" @click=\"${() => onLocationChoice('legs')}\"></div>\n          <div class=\"part feet\" @click=\"${() => onLocationChoice('feet')}\"></div>\n        </div>\n      </div>\n    `\n  }\n  styles(){\n    return html `<style>\n      ${pageBase()}\n      .page {\n        overflow:hidden;\n      }\n      p {\n        font-weight: 800;\n        font-size: 26px;\n        color: #383873;\n        margin: 0 0 16px 0;\n        padding: 0;\n      }\n      .part {\n        border-bottom: 2px dotted #EFDFFF;\n        position: absolute;\n        width: 54%;\n        left: 20%;\n        right: 0;\n      }\n      .create {\n         height: 90vh;\n         width: 100%;\n         background-size:contain;\n         overflow: hidden;\n         background-repeat: no-repeat;\n      }\n      .female {\n        background-image: url('assets/female.png');\n      }\n      .head {\n        top: 10vh;\n        height: 85px;\n        transform: rotate(-15deg);\n      }\n      .neck {\n        display:none;\n      }\n      .torso {\n        top: 24vh;\n        height: 110px;\n        transform: rotate(-15deg);\n      }\n      .hips {\n        top: 38vh;\n        height: 110px;\n        transform: rotate(-15deg);\n      }\n      .legs {\n        top: 55vh;\n        height: 110px;\n        transform: rotate(-15deg);\n      }\n      .feet {\n        top: 72vh;\n        height: 110px;\n        transform: rotate(-15deg);\n      }\n    </style>`\n  }\n}\n\n\ncustomElements.define('y-create', ViewTag);\n","import { LitElement, html } from '@polymer/lit-element';\n\nclass NavBar extends LitElement {\n  currentPage: any\n\n  constructor() {\n    super();\n  }\n\n  static get properties() {\n    return {\n      currentPage: {type: String }\n    }\n  }\n\n\n  render() {\n\n    return html`\n      <div class=\"navbar\">\n            <y-icon name=\"new\"></y-icon>\n            <y-icon name=\"list\"></y-icon>\n            <y-icon name=\"\"></y-icon>\n      </div>\n    `\n  }\n}\n\ncustomElements.define('y-navbar', NavBar);\n","import { LitElement, svg, html } from '@polymer/lit-element';\nconst feather = require('feather-icons')\n\nclass Icon extends LitElement {\n  name: string\n  parser: any;\n\n  constructor() {\n    super();\n    this.parser = document.createElement('div');\n  }\n\n  static get properties() {\n    return {\n      name: { type: String }\n    }\n  }\n\n  _getIcon(){\n    const f = feather.icons[this.name];\n    this.parser.innerHTML = f ? f.toSvg() : null;\n    return this.parser.firstChild\n  }\n  render() {\n    return html`${this._getIcon()}`\n  }\n}\n\ncustomElements.define('y-icon', Icon);\n","import { LitElement, html } from '@polymer/lit-element';\nimport { addAddtion } from 'domain/middleware/user';\nclass ProductItem extends LitElement {\n  item: any;\n\n  constructor() {\n    super();\n  }\n\n  static get properties() {\n    return {\n      item: { type: Object }\n    }\n  }\n\n  attributeChangedCallback() {\n    //add diff here\n    this.render();\n  }\n\n  styles() {\n    return html`<style>\n      :host {\n        overflow:hidden;\n        float:left;\n        border-radius: 15px;\n      }\n      .product {\n        overflow:hidden;\n        float:left;\n        border-radius: 15px;\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n        width: 100%;\n        height: 100%;\n      }\n      .price {}\n      .likes {}\n    </style>`\n  }\n\n  render() {\n    const { item } = this;\n    return html`<div style=\"background-image:url(${item.img})\" class=\"product\" @click=\"${() => { addAddtion(item) }}\">\n      ${this.styles()}\n      <span>$${item.price}</span>\n      <span><y-icon name=\"heart\"></y-icon> ${item.likes}</span>\n    </div>`\n  }\n}\n\ncustomElements.define('y-product-item', ProductItem);\n","\nimport { updateCurrentPage } from 'domain/store/reducers';\nimport page from 'page';\n\n\nconst ENTRY = (res, req) => { updateCurrentPage('ENTRY'); }\nconst ADD = (res, req) => { updateCurrentPage('ADD'); }\nconst SEARCH = (res, req) => { updateCurrentPage('SEARCH'); }\nconst CREATE = (res, req) => { updateCurrentPage('CREATE'); }\n\npage('/', ENTRY)\npage('/add', ADD)\npage('/search', SEARCH)\npage('/create', CREATE)\n\nexport default function startRouters() {\n page.start();\n}\n","\nimport { store, getState } from 'domain/store/main';\nimport 'tags'\nimport startRouters from 'domain/middleware/router';\nimport morphdom from 'morphdom';\n\n\nfunction _render(){\n  const state = getState();\n  document.getElementById('main').firstElementChild.setAttribute('currentPage', state.currentPage);\n}\nmorphdom(document.getElementById('main').firstElementChild, `<y-router></y-router>`);\nstore.addWatch('renderLoop', _render)\nstartRouters();\n"],"sourceRoot":""}